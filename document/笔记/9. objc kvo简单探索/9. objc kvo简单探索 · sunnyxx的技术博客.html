<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.2.1 (458835)"/><meta name="created" content="2019-09-30 08:08:24 +0000"/><meta name="source" content="web.clip7"/><meta name="source-application" content="webclipper.evernote"/><meta name="source-url" content="https://blog.sunnyxx.com/2014/03/09/objc_kvo_secret/"/><meta name="updated" content="2019-11-12 03:23:12 +0000"/><title>9. objc kvo简单探索 · sunnyxx的技术博客</title></head><body>
  <div style="--en-clipped-content:fullPage">
<div><br/></div><div style="font-size: 16px; display:block; min-width: 100%; position: relative;"> <div style="font-family:sans-serif;text-size-adjust:100%;"><div style="color:rgb(52, 73, 94);font-size:16px;line-height:1.6;font-family:&quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif;"><div style="display:block;height:60px;padding:20px 100px;"><a href="https://blog.sunnyxx.com/" style="background-color:transparent;color:rgb(44, 62, 80);text-decoration:none;float:left;"><img src="9.%20objc%20kvo%E7%AE%80%E5%8D%95%E6%8E%A2%E7%B4%A2%20%C2%B7%20sunnyxx%E7%9A%84%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2.resources/70C59805-79AA-4099-BD6E-8E2E4DEC6489.png" height="180" width="180"/></a><ul style="padding:0px;list-style-type:none;margin:0px;float:right;left:80px;"><li style="display:inline-block;padding:19px 10px;"><a href="https://blog.sunnyxx.com/" target="_self" style="background-color:transparent;color:rgb(44, 62, 80);text-decoration:none;font-size:16px;line-height:1.4;">BLOG</a></li><li style="display:inline-block;padding:19px 10px;"><a href="https://blog.sunnyxx.com/archives/" target="_self" style="background-color:transparent;color:rgb(44, 62, 80);text-decoration:none;font-size:16px;line-height:1.4;">ARCHIVE</a></li><li style="display:inline-block;padding:19px 10px;"><a href="http://weibo.com/1364395395/" target="_blank" style="background-color:transparent;color:rgb(44, 62, 80);text-decoration:none;font-size:16px;line-height:1.4;">WEIBO</a></li><li style="display:inline-block;padding:19px 10px;"><a href="https://github.com/forkingdog" target="_blank" style="background-color:transparent;color:rgb(44, 62, 80);text-decoration:none;font-size:16px;line-height:1.4;">GITHUB</a></li><li style="display:inline-block;padding:19px 10px;"><a href="https://blog.sunnyxx.com/atom.xml" target="_self" style="background-color:transparent;color:rgb(44, 62, 80);text-decoration:none;font-size:16px;line-height:1.4;">RSS</a></li></ul></div><div style="display:block;margin:2em 10px;"><div style="padding-top:1em;"><div style="display:block;"><h1 style="color:rgb(44, 62, 80);font-size:1.5em;margin:0.65em 0px;">objc kvo简单探索</h1><div style="color:rgb(127, 140, 141);margin:1.2em 0px;">2014年3月9日</div><div><p>KVO(Key Value Observing)，是<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">观察者模式</code>在<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">Foundation</code>中的实现</p>
<h2 style="position:relative;margin:1em 0px;font-size:22px;"><span style="font-size:1.2em;color:rgb(66, 185, 131);position:absolute;left:-0.7em;top:-4px;font-weight:bold;">#</span><a href="https://blog.sunnyxx.com/2014/03/09/objc_kvo_secret/#KVO%E7%9A%84%E5%8E%9F%E7%90%86" title="KVO的原理" style="background-color:transparent;text-decoration:none;color:rgb(66, 185, 131);"/>KVO的原理</h2><p>简而言之就是：</p>
<ol>
<li>当一个object有观察者时，动态创建这个object的类的子类</li>
<li>对于每个被观察的property，重写其<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">set</code>方法</li>
<li>在重写的<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">set</code>方法中调用<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- willChangeValueForKey:</code>和<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- didChangeValueForKey:</code>通知观察者</li>
<li>当一个property没有观察者时，删除重写的方法</li>
<li>当没有observer观察任何一个property时，删除动态创建的子类</li>
</ol>
<p>空说无凭，简单验证下。</p>
<div style="display:block;position:relative;border-radius:2px;line-height:1.1em;background-color:rgb(248, 248, 248);overflow-x:auto;margin:1em 0px;"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-spacing:0px;padding:0px;margin:0px;border-collapse:collapse;width:100%;"><tbody><tr style="width:100%;border-collapse:collapse;padding:0px;margin:0px;"><td style="width:100%;border-collapse:collapse;margin:0px;padding:0px;"><pre style="overflow:auto;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;color:rgb(82, 82, 82);padding:1.2em 1.4em;line-height:1.5em;margin:0px;"><span><span><span style="color:rgb(233, 105, 0);">@interface</span> <span style="color:rgb(131, 185, 23);">Sark</span> : <span style="color:rgb(131, 185, 23);">NSObject</span></span></span><br/><span><span style="color:rgb(233, 105, 0);">@property</span> (<span style="color:rgb(233, 105, 0);">nonatomic</span>, <span style="color:rgb(233, 105, 0);">copy</span>) <span style="color:rgb(66, 185, 131);">NSString</span> *name;</span><br/><span><span style="color:rgb(233, 105, 0);">@end</span></span><br/><span><span><span style="color:rgb(233, 105, 0);">@implementation</span> <span style="color:rgb(131, 185, 23);">Sark</span></span></span><br/><span><span style="color:rgb(233, 105, 0);">@end</span></span><br/></pre></td></tr></tbody></table></div>
<p>测试代码：</p>
<div style="display:block;position:relative;border-radius:2px;line-height:1.1em;background-color:rgb(248, 248, 248);overflow-x:auto;margin:1em 0px;"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-spacing:0px;padding:0px;margin:0px;border-collapse:collapse;width:100%;"><tbody><tr style="width:100%;border-collapse:collapse;padding:0px;margin:0px;"><td style="width:100%;border-collapse:collapse;margin:0px;padding:0px;"><pre style="overflow:auto;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;color:rgb(82, 82, 82);padding:1.2em 1.4em;line-height:1.5em;margin:0px;"><span>Sark *sark = [Sark new];</span><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 1</span></span><br/><span>[sark addObserver:<span style="color:rgb(233, 105, 0);">self</span> forKeyPath:<span style="color:rgb(66, 185, 131);">@"name"</span> options:<span style="color:rgb(66, 185, 131);">NSKeyValueObservingOptionNew</span> context:<span style="color:rgb(174, 129, 255);">nil</span>];</span><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 2</span></span><br/><span>sark.name = <span style="color:rgb(66, 185, 131);">@"萨萨萨"</span>;</span><br/><span>[sark removeObserver:<span style="color:rgb(233, 105, 0);">self</span> forKeyPath:<span style="color:rgb(66, 185, 131);">@"name"</span>];</span><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 3</span></span><br/></pre></td></tr></tbody></table></div>
<p>断住后分别使用<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- class</code>和<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">object_getClass()</code>打出<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">sark</code>对象的Class和真实的Class   </p>
<div style="display:block;position:relative;border-radius:2px;line-height:1.1em;background-color:rgb(248, 248, 248);overflow-x:auto;margin:1em 0px;"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-spacing:0px;padding:0px;margin:0px;border-collapse:collapse;width:100%;"><tbody><tr style="width:100%;border-collapse:collapse;padding:0px;margin:0px;"><td style="width:100%;border-collapse:collapse;margin:0px;padding:0px;"><pre style="overflow:auto;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;color:rgb(82, 82, 82);padding:1.2em 1.4em;line-height:1.5em;margin:0px;"><span><span style="color:rgb(179, 179, 179);">// breakpoint 1</span></span><br/><span>(lldb) po sark.class</span><br/><span>Sark</span><br/><span>(lldb) po object_getClass(sark)</span><br/><span>Sark</span><br/><span/><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 2</span></span><br/><span>(lldb) po sark.class</span><br/><span>Sark</span><br/><span>(lldb) po object_getClass(sark)</span><br/><span><span style="color:rgb(66, 185, 131);">NSKVONotifying_Sark</span></span><br/><span/><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 3</span></span><br/><span>(lldb) po sark.class</span><br/><span>Sark</span><br/><span>(lldb) po object_getClass(sark)</span><br/><span>Sark</span><br/></pre></td></tr></tbody></table></div>
<p>上面的结果说明，在sark对象被观察时，framework使用<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">runtime</code>动态创建了一个Sark类的子类<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">NSKVONotifying_Sark</code><br/>而且为了隐藏这个行为，NSKVONotifying_Sark重写了<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- class</code>方法返回之前的类，就好像什么也没发生过一样<br/>但是使用<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">object_getClass()</code>时就暴露了，因为这个方法返回的是这个对象的<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">isa</code>指针，<strong style="font-weight:bold;">这个指针指向的一定是个这个对象的类对象</strong>  </p>
<hr style="box-sizing:content-box;height:0px;border:0px;"/>
<p>然后来偷窥一下这个动态类实现的方法，这里请出一个NSObject的扩展<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">NSObject+DLIntrospection</code>，它封装了打印一个类的方法、属性、协议等常用调试方法，一目了然。  </p>
<div style="display:block;position:relative;border-radius:2px;line-height:1.1em;background-color:rgb(248, 248, 248);overflow-x:auto;margin:1em 0px;"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-spacing:0px;padding:0px;margin:0px;border-collapse:collapse;width:100%;"><tbody><tr style="width:100%;border-collapse:collapse;padding:0px;margin:0px;"><td style="width:100%;border-collapse:collapse;margin:0px;padding:0px;"><pre style="overflow:auto;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;color:rgb(82, 82, 82);padding:1.2em 1.4em;line-height:1.5em;margin:0px;"><span><span><span style="color:rgb(233, 105, 0);">@interface</span> <span style="color:rgb(131, 185, 23);">NSObject</span> (<span style="color:rgb(131, 185, 23);">DLIntrospection</span>)</span></span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSArray</span> *)classes;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSArray</span> *)properties;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSArray</span> *)instanceVariables;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSArray</span> *)classMethods;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSArray</span> *)instanceMethods;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSArray</span> *)protocols;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSDictionary</span> *)descriptionForProtocol:(Protocol *)proto;</span><br/><span>+ (<span style="color:rgb(66, 185, 131);">NSString</span> *)parentClassHierarchy;</span><br/><span><span style="color:rgb(233, 105, 0);">@end</span></span><br/></pre></td></tr></tbody></table></div>
<p>然后继续在刚才的断点处调试：   </p>
<div style="display:block;position:relative;border-radius:2px;line-height:1.1em;background-color:rgb(248, 248, 248);overflow-x:auto;margin:1em 0px;"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-spacing:0px;padding:0px;margin:0px;border-collapse:collapse;width:100%;"><tbody><tr style="width:100%;border-collapse:collapse;padding:0px;margin:0px;"><td style="width:100%;border-collapse:collapse;margin:0px;padding:0px;"><pre style="overflow:auto;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;color:rgb(82, 82, 82);padding:1.2em 1.4em;line-height:1.5em;margin:0px;"><span><span style="color:rgb(179, 179, 179);">// breakpoint 1</span></span><br/><span>(lldb) po [object_getClass(sark) instanceMethods]</span><br/><span>&lt;__<span style="color:rgb(66, 185, 131);">NSArrayI</span> <span style="color:rgb(174, 129, 255);">0x8e9aa00</span>&gt;(</span><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>)setName:(<span style="color:rgb(233, 105, 0);">id</span>)arg0 ,</span><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>).cxx_destruct,</span><br/><span>- (<span style="color:rgb(233, 105, 0);">id</span>)name</span><br/><span>)</span><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 2</span></span><br/><span>(lldb) po [object_getClass(sark) instanceMethods]</span><br/><span>&lt;__<span style="color:rgb(66, 185, 131);">NSArrayI</span> <span style="color:rgb(174, 129, 255);">0x8d55870</span>&gt;(</span><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>)setName:(<span style="color:rgb(233, 105, 0);">id</span>)arg0 ,</span><br/><span>- (class)class,</span><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>)dealloc,</span><br/><span>- (<span style="color:rgb(66, 185, 131);">BOOL</span>)_isKVOA</span><br/><span>)</span><br/><span><span style="color:rgb(179, 179, 179);">// breakpoint 3</span></span><br/><span>(lldb) po [object_getClass(sark) instanceMethods]</span><br/><span>&lt;__<span style="color:rgb(66, 185, 131);">NSArrayI</span> <span style="color:rgb(174, 129, 255);">0x8e9cff0</span>&gt;(</span><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>)setName:(<span style="color:rgb(233, 105, 0);">id</span>)arg0 ,</span><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>).cxx_destruct,</span><br/><span>- (<span style="color:rgb(233, 105, 0);">id</span>)name</span><br/><span>)</span><br/></pre></td></tr></tbody></table></div>
<p>首先就有个扎眼的<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- .cxx_destruct</code>冒出来，这货是个啥？详细的探究请参考我的<a href="http://blog.sunnyxx.com/2014/04/02/objc_dig_arc_dealloc/" style="background-color:transparent;text-decoration:none;color:rgb(66, 185, 131);">另一篇文章</a>。</p>
<p>大概就是说arc下这个方法在所有<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">dealloc</code>调用完成后负责释放所有的变量，当然这个和kvo没啥关系了，回到正题。<br/>从上面breakpoint2的打印可以看出，动态类重写了4个方法：   </p>
<ol>
<li><code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- setName:</code>最主要的重写方法，set值时调用通知函数</li>
<li><code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- class</code>隐藏自己必备啊，返回原来类的class</li>
<li><code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- dealloc</code>做清理犯罪现场工作</li>
<li><code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- _isKVOA</code>这就是内部使用的标示了，判断这个类有没被KVO动态生成子类</li>
</ol>
<hr style="box-sizing:content-box;height:0px;border:0px;"/>
<p>接下来验证一下KVO重写set方法后是否调用了<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- willChangeValueForKey:</code>和<code style="margin:0px 2px;padding:3px 5px;color:rgb(233, 105, 0);border-radius:2px;white-space:inherit;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;">- didChangeValueForKey:</code><br/>最直接的验证方法就是在Sark类中重写这两个方法：</p>
<div style="display:block;position:relative;border-radius:2px;line-height:1.1em;background-color:rgb(248, 248, 248);overflow-x:auto;margin:1em 0px;"><table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;border-spacing:0px;padding:0px;margin:0px;border-collapse:collapse;width:100%;"><tbody><tr style="width:100%;border-collapse:collapse;padding:0px;margin:0px;"><td style="width:100%;border-collapse:collapse;margin:0px;padding:0px;"><pre style="overflow:auto;background-color:rgb(248, 248, 248);font-family:Menlo, &quot;Roboto Mono&quot;, Monaco, courier, monospace;font-size:14px;color:rgb(82, 82, 82);padding:1.2em 1.4em;line-height:1.5em;margin:0px;"><span><span><span style="color:rgb(233, 105, 0);">@implementation</span> <span style="color:rgb(131, 185, 23);">Sark</span></span></span><br/><span/><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>)willChangeValueForKey:(<span style="color:rgb(66, 185, 131);">NSString</span> *)key {</span><br/><span>    <span style="color:rgb(66, 185, 131);">NSLog</span>(<span style="color:rgb(66, 185, 131);">@"%@"</span>, <span style="color:rgb(66, 185, 131);">NSStringFromSelector</span>(_cmd));</span><br/><span>    [<span style="color:rgb(233, 105, 0);">super</span> willChangeValueForKey:key];</span><br/><span>}</span><br/><span/><br/><span>- (<span style="color:rgb(233, 105, 0);">void</span>)didChangeValueForKey:(<span style="color:rgb(66, 185, 131);">NSString</span> *)key {</span><br/><span>    <span style="color:rgb(66, 185, 131);">NSLog</span>(<span style="color:rgb(66, 185, 131);">@"%@"</span>, <span style="color:rgb(66, 185, 131);">NSStringFromSelector</span>(_cmd));</span><br/><span>    [<span style="color:rgb(233, 105, 0);">super</span> didChangeValueForKey:key];</span><br/><span>}</span><br/><span/><br/><span><span style="color:rgb(233, 105, 0);">@end</span></span><br/></pre></td></tr></tbody></table></div>
<p>没问题。</p>
</div></div></div></div><div style="display:block;"><div style="margin:4em 0px;text-align:center;"><a href="https://blog.sunnyxx.com/2014/03/14/xcode_plugins/" style="text-decoration:none;display:inline-block;margin:0px 4px;padding:4px 12px;border-radius:4px;border-bottom:4px solid rgb(58, 163, 115);font-size:14px;background-color:rgb(79, 192, 141);color:rgb(255, 255, 255);">上一篇</a><a href="https://blog.sunnyxx.com/2014/03/07/hexo_customize/" style="text-decoration:none;display:inline-block;margin:0px 4px;padding:4px 12px;border-radius:4px;border-bottom:4px solid rgb(58, 163, 115);font-size:14px;background-color:rgb(79, 192, 141);color:rgb(255, 255, 255);">下一篇</a></div><div style="margin-bottom:2em;"/><div style="margin:4em 0px;border-top:1px solid rgb(221, 221, 221);text-align:center;"><p style="color:rgb(170, 170, 170);font-size:14px;font-weight:100;">原创文章，版权声明：署名-非商业性使用-相同方式共享 2.5 </p><p style="color:rgb(170, 170, 170);font-size:14px;font-weight:100;">对博主感兴趣？微信订阅号中关注 sunnyxx 或关注微博<a href="http://weibo.com/1364395395/" style="background-color:transparent;text-decoration:none;font-size:14px;font-weight:100;color:rgb(170, 170, 170);">@我就叫Sunny怎么了</a></p><p style="color:rgb(170, 170, 170);font-size:14px;font-weight:100;">© 2015 - 2016  <a href="http://blog.sunnyxx.com/" style="background-color:transparent;text-decoration:none;font-size:14px;font-weight:100;color:rgb(170, 170, 170);">sunnyxx</a> | Powered by Hexo</p></div></div></div></div></div>
</div>
</body></html>