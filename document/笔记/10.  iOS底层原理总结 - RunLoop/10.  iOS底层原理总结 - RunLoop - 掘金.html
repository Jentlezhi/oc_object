<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.2.1 (458835)"/><meta name="created" content="2019-09-30 08:38:10 +0000"/><meta name="source" content="web.clip7"/><meta name="source-application" content="webclipper.evernote"/><meta name="source-url" content="https://juejin.im/post/5add46606fb9a07abf721d1d"/><meta name="updated" content="2019-11-12 03:23:18 +0000"/><title>10.  iOS底层原理总结 - RunLoop - 掘金</title></head><body>
  <div style="--en-clipped-content:fullPage">
<div><br/></div><div style="font-size: 16px; display:block; min-width: 100%; position: relative;"> <div style="text-size-adjust:100%;font-size:12px;text-rendering:optimizelegibility;color:rgb(51, 51, 51);background-color:rgb(244, 245, 245);font-family:-apple-system, system-ui, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;word-break:break-word;"><div style="font-size:12px;line-height:normal;word-break:break-word;"><div style="overflow-x:initial;"><div><div/><div/></div><div><div style="position:relative;height:60px;"/><span style="display:block;position:relative;margin:0px auto;width:100%;max-width:960px;"><div style="padding:0px 0px 8rem;margin-top:21.204px;"><div style="box-shadow:rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;position:relative;width:700px;max-width:100%;background-color:rgb(255, 255, 255);border-radius:2px;box-sizing:border-box;margin-bottom:18px;padding:0px 2rem;"><div style="display:block;margin-bottom:36px;padding:2rem 0px 0px;"><div/><div><div/></div><div style="display:flex;align-items:center;margin-bottom:24px;"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);font-size:0px;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;flex:0 0 auto;margin-right:12px;width:39.9844px;height:39.9844px;border-radius:50%;background-image:url(https://user-gold-cdn.xitu.io/2017/12/12/1604a60a9cdbdae2?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1);"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;opacity:0;pointer-events:none;"/></div></a><div style="min-width:0px;flex-grow:1;"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;max-width:100%;color:rgb(51, 51, 51);font-size:15.6px;font-weight:700;">xx_cc<a href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);margin-left:3.96px;vertical-align:middle;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/lv-3.e108c68.png" height="14" width="23"/></a></a><div style="font-size:13.2px;color:rgb(144, 144, 144);"><span title="Wed Apr 25 2018 14:27:44 GMT+0800 (中国标准时间)" style="letter-spacing:1px;">2018年04月25日</span><span style="margin-left:0.5em;">阅读 6835</span></div></div></div><h1 style="font-weight:700;line-height:1.5;font-size:30px;margin:0.67em 0px;">iOS底层原理总结 - RunLoop</h1><div style="word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;"><h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">面试题</h2>
<ol style="padding-left:28px;">
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">讲讲 RunLoop，项目中有用到吗？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">RunLoop内部实现逻辑？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">Runloop和线程的关系？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">timer 与 Runloop 的关系？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">程序中添加每3秒响应一次的NSTimer，当拖动tableview时timer可能无法响应要怎么解决？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">Runloop 是怎么响应用户操作的， 具体流程是什么样的？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">说说RunLoop的几种状态？</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">Runloop的mode作用是什么？</li>
</ol>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">一. RunLoop简介</h2>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">运行循环，在程序运行过程中循环做一些事情，如果没有Runloop程序执行完毕就会立即退出，如果有Runloop程序会一直运行，并且时时刻刻在等待用户的输入操作。RunLoop可以在需要的时候自己跑起来运行，在没有操作的时候就停下来休息。充分节省CPU资源，提高程序性能。</p>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">二. RunLoop基本作用：</h2>
<ol style="padding-left:28px;">
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;"><strong style="font-weight:700;">保持程序持续运行</strong>，程序一启动就会开一个主线程，主线程一开起来就会跑一个主线程对应的RunLoop,RunLoop保证主线程不会被销毁，也就保证了程序的持续运行</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;"><strong style="font-weight:700;">处理App中的各种事件</strong>（比如：触摸事件，定时器事件，Selector事件等）</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;"><strong style="font-weight:700;">节省CPU资源，提高程序性能</strong>，程序运行起来时，当什么操作都没有做的时候，RunLoop就告诉CPU，现在没有事情做，我要去休息，这时CPU就会将其资源释放出来去做其他的事情，当有事情做的时候RunLoop就会立马起来去做事情
<strong style="font-weight:700;">我们先通过API内一张图片来简单看一下RunLoop内部运行原理</strong>
<div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1">1</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div>
通过图片可以看出，RunLoop在跑圈过程中，当接收到Input sources 或者 Timer sources时就会交给对应的处理方去处理。当没有事件消息传入的时候，RunLoop就休息了。这里只是简单的理解一下这张图，接下来我们来了解RunLoop对象和其一些相关类，来更深入的理解RunLoop运行流程。</li>
</ol>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">三. RunLoop在哪里开启</h2>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">UIApplicationMain函数内启动了Runloop，程序不会马上退出，而是保持运行状态。因此每一个应用必须要有一个runloop，
我们知道主线程一开起来，就会跑一个和主线程对应的RunLoop，那么RunLoop一定是在程序的入口main函数中开启。</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>int main(int argc, char * argv[]) {
    @autoreleasepool {
        <span style="color:rgb(0, 134, 179);">return</span> UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));
    }
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">进入UIApplicationMain</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>UIKIT_EXTERN int UIApplicationMain(int argc, char *argv[], NSString * __nullable principalClassName, NSString * __nullable delegateClassName);
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">我们发现它返回的是一个int数，那么我们对main函数做一些修改</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>int main(int argc, char * argv[]) {
    @autoreleasepool {
        NSLog(@<span style="color:rgb(221, 17, 68);">"开始"</span>);
        int re = UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));
        NSLog(@<span style="color:rgb(221, 17, 68);">"结束"</span>);
        <span style="color:rgb(0, 134, 179);">return</span> re;
    }
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">运行程序，我们发现只会打印开始，并不会打印结束，这<strong style="font-weight:700;">说明在UIApplicationMain函数中，开启了一个和主线程相关的RunLoop，导致UIApplicationMain不会返回，一直在运行中，也就保证了程序的持续运行</strong>。
我们来看到RunLoop的源码</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>// 用DefaultMode启动
void CFRunLoopRun(void) {	/* DOES CALLOUT */
    int32_t result;
    <span style="color:rgb(51, 51, 51);font-weight:700;">do</span> {
        result = CFRunLoopRunSpecific(CFRunLoopGetCurrent(), kCFRunLoopDefaultMode, 1.0e10, <span style="color:teal;">false</span>);
        CHECK_FOR_FORK();
    } <span style="color:rgb(51, 51, 51);font-weight:700;">while</span> (kCFRunLoopRunStopped != result &amp;&amp; kCFRunLoopRunFinished != result);
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">我们发现RunLoop确实是do while通过判断result的值实现的。因此，我们可以把RunLoop看成一个死循环。如果没有RunLoop，UIApplicationMain函数执行完毕之后将直接返回，也就没有程序持续运行一说了。</p>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">四. RunLoop对象</h2>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;">Fundation框架   （基于CFRunLoopRef的封装）
NSRunLoop对象</p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;">CoreFoundation
CFRunLoopRef对象</p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">因为Fundation框架是基于CFRunLoopRef的一层OC封装，这里我们主要研究CFRunLoopRef源码</p>
<h4 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;font-size:16px;">如何获得RunLoop对象</h4>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>Foundation
[NSRunLoop currentRunLoop]; // 获得当前线程的RunLoop对象
[NSRunLoop mainRunLoop]; // 获得主线程的RunLoop对象

Core Foundation
CFRunLoopGetCurrent(); // 获得当前线程的RunLoop对象
CFRunLoopGetMain(); // 获得主线程的RunLoop对象
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">五. RunLoop和线程间的关系</h2>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<ol style="padding-left:28px;">
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">每条线程都有唯一的一个与之对应的RunLoop对象</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">RunLoop保存在一个全局的Dictionary里，线程作为key,RunLoop作为value</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">主线程的RunLoop已经自动创建好了，子线程的RunLoop需要主动创建</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">RunLoop在第一次获取时创建，在线程结束时销毁</li>
</ol>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">通过源码查看上述对应</h3>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>// 拿到当前Runloop 调用_CFRunLoopGet0
CFRunLoopRef CFRunLoopGetCurrent(void) {
    CHECK_FOR_FORK();
    CFRunLoopRef rl = (CFRunLoopRef)_CFGetTSD(__CFTSDKeyRunLoop);
    <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (rl) <span style="color:rgb(0, 134, 179);">return</span> rl;
    <span style="color:rgb(0, 134, 179);">return</span> _CFRunLoopGet0(pthread_self());
}

// 查看_CFRunLoopGet0方法内部
CF_EXPORT CFRunLoopRef _CFRunLoopGet0(pthread_t t) {
    <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (pthread_equal(t, kNilPthreadT)) {
	t = pthread_main_thread_np();
    }
    __CFLock(&amp;loopsLock);
    <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (!__CFRunLoops) {
        __CFUnlock(&amp;loopsLock);
	CFMutableDictionaryRef dict = CFDictionaryCreateMutable(kCFAllocatorSystemDefault, 0, NULL, &amp;kCFTypeDictionaryValueCallBacks);
	// 根据传入的主线程获取主线程对应的RunLoop
	CFRunLoopRef mainLoop = __CFRunLoopCreate(pthread_main_thread_np());
	// 保存主线程 将主线程-key和RunLoop-Value保存到字典中
	CFDictionarySetValue(dict, pthreadPointer(pthread_main_thread_np()), mainLoop);
	<span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (!OSAtomicCompareAndSwapPtrBarrier(NULL, dict, (void * volatile *)&amp;__CFRunLoops)) {
	    CFRelease(dict);
	}
	CFRelease(mainLoop);
        __CFLock(&amp;loopsLock);
    }
    
    // 从字典里面拿，将线程作为key从字典里获取一个loop
    CFRunLoopRef loop = (CFRunLoopRef)CFDictionaryGetValue(__CFRunLoops, pthreadPointer(t));
    __CFUnlock(&amp;loopsLock);
    
    // 如果loop为空，则创建一个新的loop，所以runloop会在第一次获取的时候创建
    <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (!loop) {  
	CFRunLoopRef newLoop = __CFRunLoopCreate(t);
        __CFLock(&amp;loopsLock);
	loop = (CFRunLoopRef)CFDictionaryGetValue(__CFRunLoops, pthreadPointer(t));
	
	// 创建好之后，以线程为key runloop为value，一对一存储在字典中，下次获取的时候，则直接返回字典内的runloop
	<span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (!loop) { 
	    CFDictionarySetValue(__CFRunLoops, pthreadPointer(t), newLoop);
	    loop = newLoop;
	}
        // don<span style="color:rgb(221, 17, 68);">'t release run loops inside the loopsLock, because CFRunLoopDeallocate may end up taking it
        __CFUnlock(&amp;loopsLock);
	CFRelease(newLoop);
    }
    if (pthread_equal(t, pthread_self())) {
        _CFSetTSD(__CFTSDKeyRunLoop, (void *)loop, NULL);
        if (0 == _CFGetTSD(__CFTSDKeyRunLoopCntr)) {
            _CFSetTSD(__CFTSDKeyRunLoopCntr, (void *)(PTHREAD_DESTRUCTOR_ITERATIONS-1), (void (*)(void *))__CFFinalizeRunLoop);
        }
    }
    return loop;
}

</span><span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">从上面的代码可以看出，线程和 RunLoop 之间是一一对应的，其关系是保存在一个 Dictionary 里。所以我们创建子线程RunLoop时，只需在子线程中获取当前线程的RunLoop对象即可<code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">[NSRunLoop currentRunLoop];</code>如果不获取，那子线程就不会创建与之相关联的RunLoop，并且只能在一个线程的内部获取其 RunLoop
<code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">[NSRunLoop currentRunLoop];</code>方法调用时，会先看一下字典里有没有存子线程相对用的RunLoop，如果有则直接返回RunLoop，如果没有则会创建一个，并将与之对应的子线程存入字典中。当线程结束时，RunLoop会被销毁。</strong></p>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">六. RunLoop结构体</h2>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">通过源码我们找到__CFRunLoop结构体</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>struct __CFRunLoop {
    CFRuntimeBase _base;
    pthread_mutex_t _lock;			/* locked <span style="color:rgb(51, 51, 51);font-weight:700;">for</span> accessing mode list */
    __CFPort _wakeUpPort;			// used <span style="color:rgb(51, 51, 51);font-weight:700;">for</span> CFRunLoopWakeUp 
    Boolean _unused;
    volatile _per_run_data *_perRunData;              // reset <span style="color:rgb(51, 51, 51);font-weight:700;">for</span> runs of the run loop
    pthread_t _pthread;
    uint32_t _winthread;
    CFMutableSetRef _commonModes;
    CFMutableSetRef _commonModeItems;
    CFRunLoopModeRef _currentMode;
    CFMutableSetRef _modes;
    struct _block_item *_blocks_head;
    struct _block_item *_blocks_tail;
    CFAbsoluteTime _runTime;
    CFAbsoluteTime _sleepTime;
    CFTypeRef _counterpart;
};
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">除一些记录性属性外，主要来看一下以下两个成员变量</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>CFRunLoopModeRef _currentMode;
CFMutableSetRef _modes;
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">CFRunLoopModeRef 其实是指向__CFRunLoopMode结构体的指针，__CFRunLoopMode结构体源码如下</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>typedef struct __CFRunLoopMode *CFRunLoopModeRef;
struct __CFRunLoopMode {
    CFRuntimeBase _base;
    pthread_mutex_t _lock;	/* must have the run loop locked before locking this */
    CFStringRef _name;
    Boolean _stopped;
    char _padding[3];
    CFMutableSetRef _sources0;
    CFMutableSetRef _sources1;
    CFMutableArrayRef _observers;
    CFMutableArrayRef _timers;
    CFMutableDictionaryRef _portToV1SourceMap;
    __CFPortSet _portSet;
    CFIndex _observerMask;
<span style="color:rgb(153, 153, 136);">#if USE_DISPATCH_SOURCE_FOR_TIMERS</span>
    dispatch_source_t _timerSource;
    dispatch_queue_t _queue;
    Boolean _timerFired; // <span style="color:rgb(0, 134, 179);">set</span> to <span style="color:teal;">true</span> by the <span style="color:rgb(0, 134, 179);">source</span> when a timer has fired
    Boolean _dispatchTimerArmed;
<span style="color:rgb(153, 153, 136);">#endif</span>
<span style="color:rgb(153, 153, 136);">#if USE_MK_TIMER_TOO</span>
    mach_port_t _timerPort;
    Boolean _mkTimerArmed;
<span style="color:rgb(153, 153, 136);">#endif</span>
<span style="color:rgb(153, 153, 136);">#if DEPLOYMENT_TARGET_WINDOWS</span>
    DWORD _msgQMask;
    void (*_msgPump)(void);
<span style="color:rgb(153, 153, 136);">#endif</span>
    uint64_t _timerSoftDeadline; /* TSR */
    uint64_t _timerHardDeadline; /* TSR */
};
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">主要查看以下成员变量</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>CFMutableSetRef _sources0;
CFMutableSetRef _sources1;
CFMutableArrayRef _observers;
CFMutableArrayRef _timers;
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">通过上面分析我们知道，CFRunLoopModeRef代表RunLoop的运行模式，一个RunLoop包含若干个Mode，每个Mode又包含若干个Source0/Source1/Timer/Observer，而RunLoop启动时只能选择其中一个Mode作为currentMode。</p>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">Source1/Source0/Timers/Observer分别代表什么</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">1. Source1 : 基于Port的线程间通信</strong></p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">2. Source0 : 触摸事件，PerformSelectors</strong></p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">我们通过代码验证一下</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event
{
    NSLog(@<span style="color:rgb(221, 17, 68);">"点击了屏幕"</span>);
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">打断点之后打印堆栈信息，当xcode工具区打印的堆栈信息不全时，可以在控制台通过“bt”指令打印完整的堆栈信息，由堆栈信息中可以发现，触摸事件确实是会触发Source0事件。
</p><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1_2">1_2</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">同样的方式验证performSelector堆栈信息</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>dispatch_async(dispatch_get_global_queue(0, 0), ^{
    [self performSelectorOnMainThread:@selector(<span style="color:rgb(0, 134, 179);">test</span>) withObject:nil <span style="color:rgb(0, 134, 179);">wait</span>UntilDone:YES];
});
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">可以发现PerformSelectors同样是触发Source0事件
</p><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1_4">1_4</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">其实，当我们触发了事件（触摸/锁屏/摇晃等）后，由IOKit.framework生成一个 IOHIDEvent事件，而IOKit是苹果的硬件驱动框架，由它进行底层接口的抽象封装与系统进行交互传递硬件感应的事件，并专门处理用户交互设备，由IOHIDServices和IOHIDDisplays两部分组成，其中IOHIDServices是专门处理用户交互的，它会将事件封装成IOHIDEvents对象，接着用mach port转发给需要的App进程，随后 Source1就会接收IOHIDEvent，之后再回调__IOHIDEventSystemClientQueueCallback()，__IOHIDEventSystemClientQueueCallback()内触发Source0，Source0 再触发 _UIApplicationHandleEventQueue()。所以触摸事件看到是在 Source0 内的。</p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">3. Timers  : 定时器，NSTimer</strong></p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">通过代码验证</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>[NSTimer scheduledTimerWithTimeInterval:3.0 repeats:NO block:^(NSTimer * _Nonnull timer) {
    NSLog(@<span style="color:rgb(221, 17, 68);">"NSTimer ---- timer调用了"</span>);
}];
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">打印完整堆栈信息</p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1_5">1_5</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">4. Observer : 监听器，用于监听RunLoop的状态</strong></p>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">七. 详解RunLoop相关类及作用</h2>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">通过上面的分析，我们对RunLoop内部结构有了大致的了解，接下来来详细分析RunLoop的相关类。以下为Core Foundation中关于RunLoop的5个类</p>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><strong style="font-weight:700;">CFRunLoopRef - 获得当前RunLoop和主RunLoop</strong></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><strong style="font-weight:700;">CFRunLoopModeRef - RunLoop 运行模式，只能选择一种，在不同模式中做不同的操作</strong></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><strong style="font-weight:700;">CFRunLoopSourceRef - 事件源，输入源</strong></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><strong style="font-weight:700;">CFRunLoopTimerRef - 定时器时间</strong></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><strong style="font-weight:700;">CFRunLoopObserverRef - 观察者</strong></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">1. CFRunLoopModeRef</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">CFRunLoopModeRef代表RunLoop的运行模式
一个 RunLoop 包含若干个 Mode，每个Mode又包含若干个Source、Timer、Observer
每次RunLoop启动时，只能指定其中一个 Mode，这个Mode被称作 CurrentMode
如果需要切换Mode，只能退出RunLoop，再重新指定一个Mode进入，这样做主要是为了分隔开不同组的Source、Timer、Observer，让其互不影响。如果Mode里没有任何Source0/Source1/Timer/Observer，RunLoop会立马退出</strong>
如图所示：
</p><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1_6">1_6</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div>
<strong style="font-weight:700;">注意：一种Mode中可以有多个Source(事件源，输入源，基于端口事件源例键盘触摸等) Observer(观察者，观察当前RunLoop运行状态) 和Timer(定时器事件源)。但是必须至少有一个Source或者Timer，因为如果Mode为空，RunLoop运行到空模式不会进行空转，就会立刻退出。</strong><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">系统默认注册的5个Mode:</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">RunLoop 有五种运行模式，其中常见的有1.2两种</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>1. kCFRunLoopDefaultMode：App的默认Mode，通常主线程是在这个Mode下运行
2. UITrackingRunLoopMode：界面跟踪 Mode，用于 ScrollView 追踪触摸滑动，保证界面滑动时不受其他 Mode 影响
3. UIInitializationRunLoopMode: 在刚启动 App 时第进入的第一个 Mode，启动完成后就不再使用，会切换到kCFRunLoopDefaultMode
4. GSEventReceiveRunLoopMode: 接受系统事件的内部 Mode，通常用不到
5. kCFRunLoopCommonModes: 这是一个占位用的Mode，作为标记kCFRunLoopDefaultMode和UITrackingRunLoopMode用，并不是一种真正的Mode 
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">Mode间的切换</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">我们平时在开发中一定遇到过，当我们使用NSTimer每一段时间执行一些事情时滑动UIScrollView，NSTimer就会暂停，当我们停止滑动以后，NSTimer又会重新恢复的情况，我们通过一段代码来看一下</p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">代码中的注释也很重要，展示了我们探索的过程</strong></p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event
{
    // [NSTimer scheduledTimerWithTimeInterval:2.0 target:self selector:@selector(show) userInfo:nil repeats:YES];
    NSTimer *timer = [NSTimer timerWithTimeInterval:2.0 target:self selector:@selector(show) userInfo:nil repeats:YES];
    // 加入到RunLoop中才可以运行
    // 1. 把定时器添加到RunLoop中，并且选择默认运行模式NSDefaultRunLoopMode = kCFRunLoopDefaultMode
    // [[NSRunLoop mainRunLoop] addTimer:timer <span style="color:rgb(51, 51, 51);font-weight:700;">for</span>Mode:NSDefaultRunLoopMode];
    // 当textFiled滑动的时候，timer失效，停止滑动时，timer恢复
    // 原因：当textFiled滑动的时候，RunLoop的Mode会自动切换成UITrackingRunLoopMode模式，因此timer失效，当停止滑动，RunLoop又会切换回NSDefaultRunLoopMode模式，因此timer又会重新启动了
    
    // 2. 当我们将timer添加到UITrackingRunLoopMode模式中，此时只有我们在滑动textField时timer才会运行
    // [[NSRunLoop mainRunLoop] addTimer:timer <span style="color:rgb(51, 51, 51);font-weight:700;">for</span>Mode:UITrackingRunLoopMode];
    
    // 3. 那个如何让timer在两个模式下都可以运行呢？
    // 3.1 在两个模式下都添加timer 是可以的，但是timer添加了两次，并不是同一个timer
    // 3.2 使用站位的运行模式 NSRunLoopCommonModes标记，凡是被打上NSRunLoopCommonModes标记的都可以运行，下面两种模式被打上标签
    //0 : &lt;CFString 0x10b7fe210 [0x10a8c7a40]&gt;{contents = <span style="color:rgb(221, 17, 68);">"UITrackingRunLoopMode"</span>}
    //2 : &lt;CFString 0x10a8e85e0 [0x10a8c7a40]&gt;{contents = <span style="color:rgb(221, 17, 68);">"kCFRunLoopDefaultMode"</span>}
    // 因此也就是说如果我们使用NSRunLoopCommonModes，timer可以在UITrackingRunLoopMode，kCFRunLoopDefaultMode两种模式下运行
    [[NSRunLoop mainRunLoop] addTimer:timer <span style="color:rgb(51, 51, 51);font-weight:700;">for</span>Mode:NSRunLoopCommonModes];
    NSLog(@<span style="color:rgb(221, 17, 68);">"%@"</span>,[NSRunLoop mainRunLoop]);
}
-(void)show
{
    NSLog(@<span style="color:rgb(221, 17, 68);">"-------"</span>);
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">由上述代码可以看出，NSTimer不管用是因为Mode的切换，因为如果我们在主线程使用定时器，此时RunLoop的Mode为kCFRunLoopDefaultMode，即定时器属于kCFRunLoopDefaultMode，那么此时我们滑动ScrollView时，RunLoop的Mode会切换到UITrackingRunLoopMode，因此在主线程的定时器就不在管用了，调用的方法也就不再执行了，当我们停止滑动时，RunLoop的Mode切换回kCFRunLoopDefaultMode，所以NSTimer就又管用了。</p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">同样道理的还有ImageView的显示，我们直接来看代码，不再赘述了</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event
{
    NSLog(@<span style="color:rgb(221, 17, 68);">"%s"</span>,__func__);
    // performSelector默认是在default模式下运行，因此在滑动ScrollView时，图片不会加载
    // [self.imageView performSelector:@selector(<span style="color:rgb(0, 134, 179);">set</span>Image:) withObject:[UIImage imageNamed:@<span style="color:rgb(221, 17, 68);">"abc"</span>] afterDelay:2.0 ];
    // <span style="color:rgb(51, 51, 51);font-weight:700;">in</span>Modes: 传入Mode数组
    [self.imageView performSelector:@selector(<span style="color:rgb(0, 134, 179);">set</span>Image:) withObject:[UIImage imageNamed:@<span style="color:rgb(221, 17, 68);">"abc"</span>] afterDelay:2.0 <span style="color:rgb(51, 51, 51);font-weight:700;">in</span>Modes:@[NSDefaultRunLoopMode,UITrackingRunLoopMode]];
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">使用GCD也可是创建计时器，而且更为精确我们来看一下代码</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event
{
    //创建队列
    dispatch_queue_t queue = dispatch_get_global_queue(0, 0);
    //1.创建一个GCD定时器
    /*
     第一个参数:表明创建的是一个定时器
     第四个参数:队列
     */
    dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, queue);
    // 需要对timer进行强引用，保证其不会被释放掉，才会按时调用block块
    // 局部变量，让指针强引用
    self.timer = timer;
    //2.设置定时器的开始时间,间隔时间,精准度
    /*
     第1个参数:要给哪个定时器设置
     第2个参数:开始时间
     第3个参数:间隔时间
     第4个参数:精准度 一般为0 在允许范围内增加误差可提高程序的性能
     GCD的单位是纳秒 所以要*NSEC_PER_SEC
     */
    dispatch_source_set_timer(timer, DISPATCH_TIME_NOW, 2.0 * NSEC_PER_SEC, 0 * NSEC_PER_SEC);
    
    //3.设置定时器要执行的事情
    dispatch_source_set_event_handler(timer, ^{
        NSLog(@<span style="color:rgb(221, 17, 68);">"---%@--"</span>,[NSThread currentThread]);
    });
    // 启动
    dispatch_resume(timer);
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">2. CFRunLoopSourceRef事件源（输入源）</h3>
<h4 style="color:rgb(51, 51, 51);line-height:1.5;margin-bottom:10px;padding-bottom:5px;font-size:16px;margin-top:0px;">Source分为两种</h4>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;">Source0：非基于Port的 用于用户主动触发的事件（点击button 或点击屏幕）</p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;">Source1：基于Port的  通过内核和其他线程相互发送消息（与内核相关）</p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">触摸事件及PerformSelectors会触发Source0事件源在前文已经验证过，这里不在赘述</p>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">3. CFRunLoopObserverRef</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">CFRunLoopObserverRef是观察者，能够监听RunLoop的状态改变</strong></p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">我们直接来看代码，给RunLoop添加监听者，监听其运行状态</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event
{
     //创建监听者
     /*
     第一个参数 CFAllocatorRef allocator：分配存储空间 CFAllocatorGetDefault()默认分配
     第二个参数 CFOptionFlags activities：要监听的状态 kCFRunLoopAllActivities 监听所有状态
     第三个参数 Boolean repeats：YES:持续监听 NO:不持续
     第四个参数 CFIndex order：优先级，一般填0即可
     第五个参数 ：回调 两个参数observer:监听者 activity:监听的事件
     */
     /*
     所有事件
     typedef CF_OPTIONS(CFOptionFlags, CFRunLoopActivity) {
     kCFRunLoopEntry = (1UL &lt;&lt; 0),   //   即将进入RunLoop
     kCFRunLoopBeforeTimers = (1UL &lt;&lt; 1), // 即将处理Timer
     kCFRunLoopBeforeSources = (1UL &lt;&lt; 2), // 即将处理Source
     kCFRunLoopBeforeWaiting = (1UL &lt;&lt; 5), //即将进入休眠
     kCFRunLoopAfterWaiting = (1UL &lt;&lt; 6),// 刚从休眠中唤醒
     kCFRunLoopExit = (1UL &lt;&lt; 7),// 即将退出RunLoop
     kCFRunLoopAllActivities = 0x0FFFFFFFU
     };
     */
    CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(CFAllocatorGetDefault(), kCFRunLoopAllActivities, YES, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) {
        switch (activity) {
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopEntry:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop进入"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopBeforeTimers:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop要处理Timers了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopBeforeSources:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop要处理Sources了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopBeforeWaiting:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop要休息了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopAfterWaiting:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop醒来了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopExit:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop退出了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
                
            default:
                <span style="color:rgb(0, 134, 179);">break</span>;
        }
    });
    
    // 给RunLoop添加监听者
    /*
     第一个参数 CFRunLoopRef rl：要监听哪个RunLoop,这里监听的是主线程的RunLoop
     第二个参数 CFRunLoopObserverRef observer 监听者
     第三个参数 CFStringRef mode 要监听RunLoop在哪种运行模式下的状态
     */
    CFRunLoopAddObserver(CFRunLoopGetCurrent(), observer, kCFRunLoopDefaultMode);
     /*
     CF的内存管理（Core Foundation）
     凡是带有Create、Copy、Retain等字眼的函数，创建出来的对象，都需要在最后做一次release
     GCD本来在iOS6.0之前也是需要我们释放的，6.0之后GCD已经纳入到了ARC中，所以我们不需要管了
     */
    CFRelease(observer);
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">我们来看一下输出</p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1_1">1_1</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div>
以上可以看出，Observer确实用来监听RunLoop的状态，包括唤醒，休息，以及处理各种事件。<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">八. RunLoop处理逻辑</h2>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">这时我们再来分析RunLoop的处理逻辑，就会简单明了很多，现在回头看官方文档RunLoop的处理逻辑，对RunLoop的处理逻辑有新的认识。
</p><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1">1</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">源码解析</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">下面源码仅保留了主流程代码</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>// 共外部调用的公开的CFRunLoopRun方法，其内部会调用CFRunLoopRunSpecific
void CFRunLoopRun(void) {	/* DOES CALLOUT */
    int32_t result;
    <span style="color:rgb(51, 51, 51);font-weight:700;">do</span> {
        result = CFRunLoopRunSpecific(CFRunLoopGetCurrent(), kCFRunLoopDefaultMode, 1.0e10, <span style="color:teal;">false</span>);
        CHECK_FOR_FORK();
    } <span style="color:rgb(51, 51, 51);font-weight:700;">while</span> (kCFRunLoopRunStopped != result &amp;&amp; kCFRunLoopRunFinished != result);
}

// 经过精简的 CFRunLoopRunSpecific 函数代码，其内部会调用__CFRunLoopRun函数
SInt32 CFRunLoopRunSpecific(CFRunLoopRef rl, CFStringRef modeName, CFTimeInterval seconds, Boolean <span style="color:rgb(0, 134, 179);">return</span>AfterSourceHandled) {     /* DOES CALLOUT */

    // 通知Observers : 进入Loop
    // __CFRunLoopDoObservers内部会调用 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
函数
    <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (currentMode-&gt;_observerMask &amp; kCFRunLoopEntry ) __CFRunLoopDoObservers(rl, currentMode, kCFRunLoopEntry);
    
    // 核心的Loop逻辑
    result = __CFRunLoopRun(rl, currentMode, seconds, <span style="color:rgb(0, 134, 179);">return</span>AfterSourceHandled, previousMode);
    
    // 通知Observers : 退出Loop
    <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (currentMode-&gt;_observerMask &amp; kCFRunLoopExit ) __CFRunLoopDoObservers(rl, currentMode, kCFRunLoopExit);

    <span style="color:rgb(0, 134, 179);">return</span> result;
}

// 精简后的 __CFRunLoopRun函数，保留了主要代码
static int32_t __CFRunLoopRun(CFRunLoopRef rl, CFRunLoopModeRef rlm, CFTimeInterval seconds, Boolean stopAfterHandle, CFRunLoopModeRef previousMode) {
    int32_t retVal = 0;
    <span style="color:rgb(51, 51, 51);font-weight:700;">do</span> {
        // 通知Observers：即将处理Timers
        __CFRunLoopDoObservers(rl, rlm, kCFRunLoopBeforeTimers); 
        
        // 通知Observers：即将处理Sources
        __CFRunLoopDoObservers(rl, rlm, kCFRunLoopBeforeSources);
        
        // 处理Blocks
        __CFRunLoopDoBlocks(rl, rlm);
        
        // 处理Sources0
        <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (__CFRunLoopDoSources0(rl, rlm, stopAfterHandle)) {
            // 处理Blocks
            __CFRunLoopDoBlocks(rl, rlm);
        }
        
        // 如果有Sources1，就跳转到handle_msg标记处
        <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (__CFRunLoopServiceMachPort(dispatchPort, &amp;msg, sizeof(msg_buffer), &amp;livePort, 0, &amp;voucherState, NULL)) {
            goto handle_msg;
        }
        
        // 通知Observers：即将休眠
        __CFRunLoopDoObservers(rl, rlm, kCFRunLoopBeforeWaiting);
        
        // 进入休眠，等待其他消息唤醒
        __CFRunLoopSetSleeping(rl);
        __CFPortSetInsert(dispatchPort, <span style="color:rgb(0, 134, 179);">wait</span>Set);
        <span style="color:rgb(51, 51, 51);font-weight:700;">do</span> {
            __CFRunLoopServiceMachPort(<span style="color:rgb(0, 134, 179);">wait</span>Set, &amp;msg, sizeof(msg_buffer), &amp;livePort, poll ? 0 : TIMEOUT_INFINITY, &amp;voucherState, &amp;voucherCopy);
        } <span style="color:rgb(51, 51, 51);font-weight:700;">while</span> (1);
        
        // 醒来
        __CFPortSetRemove(dispatchPort, <span style="color:rgb(0, 134, 179);">wait</span>Set);
        __CFRunLoopUnsetSleeping(rl);
        
        // 通知Observers：已经唤醒
        __CFRunLoopDoObservers(rl, rlm, kCFRunLoopAfterWaiting);
        
    handle_msg: // 看看是谁唤醒了RunLoop，进行相应的处理
        <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (被Timer唤醒的) {
            // 处理Timer
            __CFRunLoopDoTimers(rl, rlm, mach_absolute_time());
        }
        <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (被GCD唤醒的) {
            __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__(msg);
        } <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> { // 被Sources1唤醒的
            __CFRunLoopDoSource1(rl, rlm, rls, msg, msg-&gt;msgh_size, &amp;reply);
        }
        
        // 执行Blocks
        __CFRunLoopDoBlocks(rl, rlm);
        
        // 根据之前的执行结果，来决定怎么做，为retVal赋相应的值
        <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (<span style="color:rgb(0, 134, 179);">source</span>HandledThisLoop &amp;&amp; stopAfterHandle) {
            retVal = kCFRunLoopRunHandledSource;
        } <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (timeout_context-&gt;termTSR &lt; mach_absolute_time()) {
            retVal = kCFRunLoopRunTimedOut;
        } <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (__CFRunLoopIsStopped(rl)) {
            __CFRunLoopUnsetStopped(rl);
            retVal = kCFRunLoopRunStopped;
        } <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (rlm-&gt;_stopped) {
            rlm-&gt;_stopped = <span style="color:teal;">false</span>;
            retVal = kCFRunLoopRunStopped;
        } <span style="color:rgb(51, 51, 51);font-weight:700;">else</span> <span style="color:rgb(51, 51, 51);font-weight:700;">if</span> (__CFRunLoopModeIsEmpty(rl, rlm, previousMode)) {
            retVal = kCFRunLoopRunFinished;
        }
        
    } <span style="color:rgb(51, 51, 51);font-weight:700;">while</span> (0 == retVal);
    
    <span style="color:rgb(0, 134, 179);">return</span> retVal;
}

<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">上述源代码中，相应处理事件函数内部还会调用更底层的函数，内部调用才是真正处理事件的函数，通过上面bt打印全部堆栈信息也可以得到验证。</p>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">__CFRunLoopDoObservers 内部调用 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__</code></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">__CFRunLoopDoBlocks 内部调用 __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__</code></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">__CFRunLoopDoSources0 内部调用 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__</code></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">__CFRunLoopDoTimers 内部调用 __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__</code></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">GCD 调用 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__</code></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<blockquote style="color:rgb(102, 102, 102);background-color:rgb(248, 248, 248);margin:22px 0px;border-left:4px solid rgb(203, 203, 203);padding:1px 23px;">
<p style="line-height:inherit;margin:10px 0px;"><code style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:0.87em;padding:0.065em 0.4em;color:rgb(255, 80, 44);background-color:rgb(255, 245, 245);">__CFRunLoopDoSource1 内部调用 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__</code></p>
<span style="color:rgb(102, 102, 102);display:block;"/></blockquote>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">RunLoop处理逻辑流程图</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">此时我们按照源码重新整理一下RunLoop处理逻辑就会很清晰</p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/><div style="display:block;text-align:center;margin:22px auto;"><a href="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1_3">1_3</a><div style="display:block;text-align:center;font-size:12px;color:rgb(144, 144, 144);margin-top:2px;line-height:1.6;"/></div><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"/>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">九. RunLoop退出</h2>
<ol style="padding-left:28px;">
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">主线程销毁RunLoop退出</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">Mode中有一些Timer 、Source、 Observer，这些保证Mode不为空时保证RunLoop没有空转并且是在运行的，当Mode中为空的时候，RunLoop会立刻退出</li>
<li style="margin-bottom:0px;list-style:inherit;padding-left:6px;">我们在启动RunLoop的时候可以设置什么时候停止</li>
</ol>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>[NSRunLoop currentRunLoop]runUntilDate:&lt;<span style="color:rgb(153, 153, 136);">#(nonnull NSDate *)#&gt;</span>
[NSRunLoop currentRunLoop]runMode:&lt;<span style="color:rgb(153, 153, 136);">#(nonnull NSString *)#&gt; beforeDate:&lt;#(nonnull NSDate *)#&gt;</span>
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">十. RunLoop应用</h2>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-bottom:10px;font-size:18px;padding-bottom:0px;margin-top:0px;">1. 常驻线程</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">常驻线程的作用：我们知道，当子线程中的任务执行完毕之后就被销毁了，那么如果我们需要开启一个子线程，在程序运行过程中永远都存在，那么我们就会面临一个问题，如何让子线程永远活着，这时就要用到常驻线程：给子线程开启一个RunLoop
<strong style="font-weight:700;">注意：子线程执行完操作之后就会立即释放，即使我们使用强引用引用子线程使子线程不被释放，也不能给子线程再次添加操作，或者再次开启。</strong>
子线程开启RunLoop的代码，先点击屏幕开启子线程并开启子线程RunLoop，然后点击button。</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/><span style="color:rgb(153, 153, 136);">#import "ViewController.h"</span>

@interface ViewController ()
@property(nonatomic,strong)NSThread *thread;

@end

@implementation ViewController

- (void)viewDidLoad {
    [super viewDidLoad];
}
-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event
{
   // 创建子线程并开启
    NSThread *thread = [[NSThread alloc]initWithTarget:self selector:@selector(show) object:nil];
    self.thread = thread;
    [thread start];
}
-(void)show
{
    // 注意：打印方法一定要在RunLoop创建开始运行之前，如果在RunLoop跑起来之后打印，RunLoop先运行起来，已经在跑圈了就出不来了，进入死循环也就无法执行后面的操作了。
    // 但是此时点击Button还是有操作的，因为Button是在RunLoop跑起来之后加入到子线程的，当Button加入到子线程RunLoop就会跑起来
    NSLog(@<span style="color:rgb(221, 17, 68);">"%s"</span>,__func__);
    // 1.创建子线程相关的RunLoop，在子线程中创建即可，并且RunLoop中要至少有一个Timer 或 一个Source 保证RunLoop不会因为空转而退出，因此在创建的时候直接加入
    // 添加Source [NSMachPort port] 添加一个端口
    [[NSRunLoop currentRunLoop] addPort:[NSMachPort port] <span style="color:rgb(51, 51, 51);font-weight:700;">for</span>Mode:NSDefaultRunLoopMode];
    // 添加一个Timer
    NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:2.0 target:self selector:@selector(<span style="color:rgb(0, 134, 179);">test</span>) userInfo:nil repeats:YES];
    [[NSRunLoop currentRunLoop] addTimer:timer <span style="color:rgb(51, 51, 51);font-weight:700;">for</span>Mode:NSDefaultRunLoopMode];    
    //创建监听者
    CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(CFAllocatorGetDefault(), kCFRunLoopAllActivities, YES, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) {
        switch (activity) {
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopEntry:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop进入"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopBeforeTimers:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop要处理Timers了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopBeforeSources:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop要处理Sources了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopBeforeWaiting:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop要休息了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopAfterWaiting:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop醒来了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            <span style="color:rgb(51, 51, 51);font-weight:700;">case</span> kCFRunLoopExit:
                NSLog(@<span style="color:rgb(221, 17, 68);">"RunLoop退出了"</span>);
                <span style="color:rgb(0, 134, 179);">break</span>;
            
            default:
                <span style="color:rgb(0, 134, 179);">break</span>;
        }
    });
    // 给RunLoop添加监听者
    CFRunLoopAddObserver(CFRunLoopGetCurrent(), observer, kCFRunLoopDefaultMode);
    // 2.子线程需要开启RunLoop
    [[NSRunLoop currentRunLoop]run];
    CFRelease(observer);
}
- (IBAction)btnClick:(id)sender {
    [self performSelector:@selector(<span style="color:rgb(0, 134, 179);">test</span>) onThread:self.thread withObject:nil <span style="color:rgb(0, 134, 179);">wait</span>UntilDone:NO];
}
-(void)<span style="color:rgb(0, 134, 179);">test</span>
{
    NSLog(@<span style="color:rgb(221, 17, 68);">"%@"</span>,[NSThread currentThread]);
}
@end
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><strong style="font-weight:700;">注意：创建子线程相关的RunLoop，在子线程中创建即可，并且RunLoop中要至少有一个Timer 或 一个Source 保证RunLoop不会因为空转而退出，因此在创建的时候直接加入，如果没有加入Timer或者Source，或者只加入一个监听者，运行程序会崩溃</strong></p>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">2. 自动释放池</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">Timer和Source也是一些变量，需要占用一部分存储空间，所以要释放掉，如果不释放掉，就会一直积累，占用的内存也就越来越大，这显然不是我们想要的。
那么什么时候释放，怎么释放呢？
RunLoop内部有一个自动释放池，<strong style="font-weight:700;">当RunLoop开启时，就会自动创建一个自动释放池，当RunLoop在休息之前会释放掉自动释放池的东西，然后重新创建一个新的空的自动释放池</strong>，当RunLoop被唤醒重新开始跑圈时，Timer,Source等新的事件就会放到新的自动释放池中，<strong style="font-weight:700;">当RunLoop退出的时候也会被释放</strong>。
注意：只有主线程的RunLoop会默认启动。也就意味着会自动创建自动释放池，子线程需要在线程调度方法中手动添加自动释放池。</p>
<pre style="font-size:1em;overflow:auto;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;position:relative;line-height:1.75;"><code lang="bash" style="font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;border-radius:2px;margin:0px;display:block;word-break:normal;background:rgb(248, 248, 248);font-size:0.87em;overflow-x:auto;background-color:rgb(255, 245, 245);color:rgb(51, 51, 51);padding:18px 15px 12px;"><span style="font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:0.87em;color:rgb(51, 51, 51);position:absolute;right:1rem;top:2px;"/>@autorelease{  
      // 执行代码 
}
<span style="position:absolute;top:6px;right:15px;font-size:12px;line-height:1;cursor:pointer;color:rgba(140, 140, 140, 0.8);transition:color 0.1s ease 0s;">复制代码</span></code></pre><p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">NSTimer、ImageView显示、PerformSelector等在上面已经有过例子，这里不再赘述。</p>
<h2 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:24px;border-bottom:1px solid rgb(236, 236, 236);padding-bottom:12px;">最后检验一下自己</h2>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">文章开头的面试题，在文中都可以找到答案，这里不在赘述了。</p>
<h3 style="color:rgb(51, 51, 51);line-height:1.5;margin-top:35px;margin-bottom:10px;font-size:18px;padding-bottom:0px;">文献资料</h3>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><a target="_blank" href="https://link.juejin.im/?target=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Fmac%2Fdocumentation%2FCocoa%2FConceptual%2FMultithreading%2FRunLoopManagement%2FRunLoopManagement.html" rel="nofollow noopener noreferrer" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;border-bottom:1px solid rgb(209, 233, 255);color:rgb(2, 105, 200);">苹果官方文档</a></p>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;"><a target="_blank" href="https://link.juejin.im/?target=https%3A%2F%2Fopensource.apple.com%2Ftarballs%2FCF%2F" rel="nofollow noopener noreferrer" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;border-bottom:1px solid rgb(209, 233, 255);color:rgb(2, 105, 200);">CFRunLoopRef源码</a></p>
<hr style="box-sizing:content-box;height:0px;overflow:visible;border-right:none;border-bottom:none;border-left:none;border-image:initial;border-top:1px solid rgb(221, 221, 221);margin-top:32.4px;margin-bottom:32.4px;"/>
<p style="margin-top:22px;margin-bottom:22px;line-height:inherit;">文中如果有不对的地方欢迎指出。我是xx_cc，一只长大很久但还没有二够的家伙。需要视频一起探讨学习的coder可以加我Q：2336684744</p>
</div></div><div style="margin-bottom:24px;"><div style="margin-bottom:24px;padding:0px 0px 0px 2rem;font-size:15px;font-weight:600;color:rgb(0, 0, 0);border-left:6px solid rgb(221, 221, 221);">关注下面的标签，发现更多相似文章</div><div style="display:flex;flex-wrap:wrap;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:flex;align-items:center;padding:2.004px;border:1px solid rgb(227, 227, 227);border-radius:2px;margin:0px 1.25rem 1rem 0px;background-color:rgb(255, 255, 255);"><div style="position:relative;background-position:50% center;background-size:contain;background-repeat:no-repeat;width:21px;height:21px;border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div><div style="padding:0px 0.75rem;font-size:12px;line-height:21px;color:rgb(145, 145, 145);">iOS</div></a><a href="https://juejin.im/tag/Apple" target="_blank" rel="" style="text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:flex;align-items:center;padding:2.004px;border:1px solid rgb(227, 227, 227);border-radius:2px;margin:0px 1.25rem 1rem 0px;background-color:rgb(255, 255, 255);"><div style="position:relative;background-position:50% center;background-size:contain;background-repeat:no-repeat;width:21px;height:21px;border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div><div style="padding:0px 0.75rem;font-size:12px;line-height:21px;color:rgb(145, 145, 145);">Apple</div></a><a href="https://juejin.im/tag/Xcode" target="_blank" rel="" style="text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:flex;align-items:center;padding:2.004px;border:1px solid rgb(227, 227, 227);border-radius:2px;margin:0px 1.25rem 1rem 0px;background-color:rgb(255, 255, 255);"><div style="position:relative;background-position:50% center;background-size:contain;background-repeat:no-repeat;width:21px;height:21px;border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div><div style="padding:0px 0.75rem;font-size:12px;line-height:21px;color:rgb(145, 145, 145);">Xcode</div></a><a href="https://juejin.im/tag/%E6%BA%90%E7%A0%81" target="_blank" rel="" style="text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:flex;align-items:center;padding:2.004px;border:1px solid rgb(227, 227, 227);border-radius:2px;margin:0px 1.25rem 1rem 0px;background-color:rgb(255, 255, 255);"><div style="position:relative;background-position:50% center;background-size:contain;background-repeat:no-repeat;width:21px;height:21px;border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div><div style="padding:0px 0.75rem;font-size:12px;line-height:21px;color:rgb(145, 145, 145);">源码</div></a></div></div><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);"><div style="padding:15px 17px;border-radius:2px;background-color:rgb(244, 245, 245);margin-bottom:24px;"><div><div/><div style="display:flex;align-items:center;"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);font-size:0px;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;flex:0 0 auto;margin-right:12px;width:39.9844px;height:39.9844px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a><div style="min-width:0px;flex-grow:1;"><div style="display:flex;justify-content:flex-start;flex-wrap:wrap;align-items:baseline;font-size:13.2px;color:rgb(144, 144, 144);"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;max-width:100%;margin-right:6px;color:rgb(51, 51, 51);font-size:15.6px;font-weight:700;">xx_cc<a href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);margin-left:3.96px;vertical-align:middle;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/lv-3.e108c68.png" height="14" width="23"/></a></a><span style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:400px;">iOS 开发 @ 无</span></div><div style="font-size:13.2px;color:rgb(144, 144, 144);"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a/posts" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);"><span>发布了 12 篇专栏 · </span></a><span>获得点赞 2,196 · </span><span>获得阅读 66,500</span></div></div></div></div></div></a><div style="margin-bottom:30px;padding:0px 0px 0px 2rem;border-left:6px solid rgb(221, 221, 221);"><a href="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:15.6px;line-height:1.6;color:rgb(0, 127, 255);">安装掘金浏览器插件</a><div style="margin-top:2.4px;font-size:13.2px;line-height:1.4;color:rgb(144, 144, 144);">打开新标签页发现好内容，掘金、GitHub、Dribbble、ProductHunt 等站点内容轻松获取。快来安装掘金浏览器插件获取高质量内容吧！</div></div><div style="position:relative;background-color:rgb(255, 255, 255);"><span style="display:table;clear:both;"/><div style="color:rgb(138, 154, 169);font-size:16px;font-weight:400;text-align:center;padding:1.67rem 0px 5px;">评论</div><div style="display:flex;position:relative;padding:1rem 1.333rem;background-color:rgb(250, 251, 252);border-radius:3px;margin:1.333rem 0px;"><div style="flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;margin:0px 1rem 0px 0px;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></div><div style="flex:1 1 auto;position:relative;"><div style="font-size:0px;background-color:rgb(255, 255, 255);border:1px solid rgb(241, 241, 241);border-radius:3px;"><div style="position:relative;"><div style="position:relative;padding:0.6rem 1rem;font-size:12.996px;line-height:1.7;color:rgb(23, 24, 26);outline:none;min-height:1.3em;"><span style="font-size:12.996px;line-height:1.7;color:rgb(23, 24, 26);position:absolute;opacity:0.4;pointer-events:none;user-select:none;">输入评论...</span><br/></div></div></div></div></div><div style="margin:0px 1.666rem 0px 4.85rem;"><div/><div style="margin-bottom:15.996px;"><div style="display:flex;"><div style="display:inline;height:33px;"><a href="https://juejin.im/user/5cd2c3b26fb9a032212cd765" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;flex:1 1 auto;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;align-items:center;font-size:12.996px;line-height:1.2;white-space:nowrap;"><div style="display:inline;"><a href="https://juejin.im/user/5cd2c3b26fb9a032212cd765" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1 1 auto;width:0px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">. . .本尊</a></div><div style="color:rgb(138, 154, 169);font-size:12.996px;margin-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px;"/></div><div style="margin-top:6.6px;font-size:12.996px;line-height:21.996px;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:rgb(80, 80, 80);">你好   想请教您一个问题 ，我想获取wifi收到报文时的rssi，做的软件需要这个功能。ios上有这种接口，或者解决办法吗？谢谢</div><div/><div style="display:flex;margin:1rem 0px;font-weight:400;"><span title="Wed May 08 2019 20:08:27 GMT+0800 (中国标准时间)" style="font-size:12.996px;color:rgb(138, 154, 169);cursor:default;">4月前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='412'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='413'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div><div style="margin:1rem 0px;padding:0px 0px 0px 1rem;background-color:rgb(250, 251, 252);border-radius:3px;"/></div></div></div><div style="margin-bottom:15.996px;"><div style="display:flex;"><div style="display:inline;height:33px;"><a href="https://juejin.im/user/5c618679f265da2dc5389643" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;flex:1 1 auto;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;align-items:center;font-size:12.996px;line-height:1.2;white-space:nowrap;"><div style="display:inline;"><a href="https://juejin.im/user/5c618679f265da2dc5389643" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1 1 auto;width:0px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">daniellaing</a></div><div style="color:rgb(138, 154, 169);font-size:12.996px;margin-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px;">大学生 @ 无</div></div><div style="margin-top:6.6px;font-size:12.996px;line-height:21.996px;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:rgb(80, 80, 80);">牛逼啊。现在bt打印好像看不到runloop的Source类型了？swift4.2。掘金文章质量比其他地方高好多！排版也贼舒服</div><div/><div style="display:flex;margin:1rem 0px;font-weight:400;"><span title="Tue Apr 02 2019 23:03:50 GMT+0800 (中国标准时间)" style="font-size:12.996px;color:rgb(138, 154, 169);cursor:default;">6月前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='414'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='415'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div><div style="margin:1rem 0px;padding:0px 0px 0px 1rem;background-color:rgb(250, 251, 252);border-radius:3px;"/></div></div></div><div style="margin-bottom:15.996px;"><div style="display:flex;"><div style="display:inline;height:33px;"><a href="https://juejin.im/user/57ad26352e958a00543f7757" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;flex:1 1 auto;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;align-items:center;font-size:12.996px;line-height:1.2;white-space:nowrap;"><div style="display:inline;"><a href="https://juejin.im/user/57ad26352e958a00543f7757" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1 1 auto;width:0px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">阿拉斯加的狗</a></div><div style="color:rgb(138, 154, 169);font-size:12.996px;margin-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px;">iOS_Button开发工程师 @ 彩云天气</div></div><div style="margin-top:6.6px;font-size:12.996px;line-height:21.996px;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:rgb(80, 80, 80);">请问让子线程永驻有啥用吗  或者说有什么效果吗</div><div/><div style="display:flex;margin:1rem 0px;font-weight:400;"><span title="Tue Jun 05 2018 22:37:22 GMT+0800 (中国标准时间)" style="font-size:12.996px;color:rgb(138, 154, 169);cursor:default;">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='416'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='417'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div><div style="margin:1rem 0px;padding:0px 0px 0px 1rem;background-color:rgb(250, 251, 252);border-radius:3px;"><div><div style="position:relative;padding:1rem 0px 0px;"><div style="display:flex;align-items:start;"><div style="display:flex;width:100%;"><div style="height:33px;display:inline-block;"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:url(https://user-gold-cdn.xitu.io/2017/12/12/1604a60a9cdbdae2?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1);"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;opacity:0;pointer-events:none;"/></div></a></div><div style="margin-left:9.996px;margin-right:12px;padding-bottom:12px;font-size:12.996px;color:rgb(23, 24, 26);width:100%;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;"><div style="display:inline-block;"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;margin-right:4px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">xx_cc<a href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);margin-left:3.96px;vertical-align:middle;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/lv-3.e108c68.png" height="14" width="23"/></a><span style="margin-left:4px;">(作者)</span></a></div><div style="color:rgb(138, 154, 169);font-size:13px;font-weight:400;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:162px;">iOS 开发 @ 无</div></div><div style="display:inline-block;margin-top:6px;"><span> 回复 </span><div style="display:inline-block;"><a href="https://juejin.im/user/57ad26352e958a00543f7757" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(64, 101, 153);font-size:12.996px;font-weight:400;">阿拉斯加的狗</a></div><span>: </span><span style="white-space:pre-wrap;color:rgb(80, 80, 80);line-height:21.996px;">线程保活啊，如果有任务需要一直在子线程中执行，可以开启一条常驻线程来专门执行任务。例如afn3.0之前不是开了一条单例线程来专门处理网络请求和解析么。</span></div><div/><div style="display:flex;margin-top:7px;font-size:13px;color:rgb(138, 147, 160);"><span title="Tue Jun 05 2018 23:15:54 GMT+0800 (中国标准时间)">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;font-size:12.996px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='418'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/><span style="margin-left:3px;">1</span></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='419'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div></div></div></div></div></div><div><div style="position:relative;padding:1rem 0px 0px;"><div style="display:flex;align-items:start;"><div style="display:flex;width:100%;"><div style="height:33px;display:inline-block;"><a href="https://juejin.im/user/57ad26352e958a00543f7757" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;margin-right:12px;padding-bottom:12px;font-size:12.996px;color:rgb(23, 24, 26);width:100%;"><div style="display:flex;"><div style="display:inline-block;"><a href="https://juejin.im/user/57ad26352e958a00543f7757" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;margin-right:4px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">阿拉斯加的狗</a></div><div style="color:rgb(138, 154, 169);font-size:13px;font-weight:400;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:162px;">iOS_Button开发工程师 @ 彩云天气</div></div><div style="display:inline-block;margin-top:6px;"><span> 回复 </span><div style="display:inline-block;"><a href="https://juejin.im/user/57ad26352e958a00543f7757" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(64, 101, 153);font-size:12.996px;font-weight:400;">阿拉斯加的狗</a></div><span>: </span><span style="white-space:pre-wrap;color:rgb(80, 80, 80);line-height:21.996px;">好的好的 感谢大佬回复</span></div><div/><div style="display:flex;margin-top:7px;font-size:13px;color:rgb(138, 147, 160);"><span title="Thu Jun 07 2018 15:10:56 GMT+0800 (中国标准时间)">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;font-size:12.996px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='420'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/><span style="margin-left:3px;">1</span></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='421'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div></div></div></div></div></div></div></div></div></div><div style="margin-bottom:15.996px;"><div style="display:flex;"><div style="display:inline;height:33px;"><a href="https://juejin.im/user/56453e6c60b25b79f064edc4" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;flex:1 1 auto;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;align-items:center;font-size:12.996px;line-height:1.2;white-space:nowrap;"><div style="display:inline;"><a href="https://juejin.im/user/56453e6c60b25b79f064edc4" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1 1 auto;width:0px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">Blur</a></div><div style="color:rgb(138, 154, 169);font-size:12.996px;margin-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px;">iOS开发工程师</div></div><div style="margin-top:6.6px;font-size:12.996px;line-height:21.996px;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:rgb(80, 80, 80);">这是课程中的啊。。。</div><div/><div style="display:flex;margin:1rem 0px;font-weight:400;"><span title="Fri Apr 27 2018 16:04:42 GMT+0800 (中国标准时间)" style="font-size:12.996px;color:rgb(138, 154, 169);cursor:default;">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='422'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='423'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div><div style="margin:1rem 0px;padding:0px 0px 0px 1rem;background-color:rgb(250, 251, 252);border-radius:3px;"/></div></div></div><div style="margin-bottom:15.996px;"><div style="display:flex;"><div style="display:inline;height:33px;"><a href="https://juejin.im/user/5ad55c65f265da237a4d81d3" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;flex:1 1 auto;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;align-items:center;font-size:12.996px;line-height:1.2;white-space:nowrap;"><div style="display:inline;"><a href="https://juejin.im/user/5ad55c65f265da237a4d81d3" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1 1 auto;width:0px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">火海夕</a></div><div style="color:rgb(138, 154, 169);font-size:12.996px;margin-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px;"/></div><div style="margin-top:6.6px;font-size:12.996px;line-height:21.996px;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:rgb(80, 80, 80);">CUP是什么鬼<img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/2753.png" height="150" width="150"/><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/1f47b.png" height="150" width="150"/></div><div/><div style="display:flex;margin:1rem 0px;font-weight:400;"><span title="Fri Apr 27 2018 12:53:08 GMT+0800 (中国标准时间)" style="font-size:12.996px;color:rgb(138, 154, 169);cursor:default;">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='424'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='425'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div><div style="margin:1rem 0px;padding:0px 0px 0px 1rem;background-color:rgb(250, 251, 252);border-radius:3px;"/></div></div></div><div><div style="display:flex;"><div style="display:inline;height:33px;"><a href="https://juejin.im/user/581079a1570c3500680578fb" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);flex:0 0 auto;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;flex:1 1 auto;"><div style="display:flex;align-items:center;font-size:12.996px;line-height:1.2;white-space:nowrap;"><div style="display:inline;"><a href="https://juejin.im/user/581079a1570c3500680578fb" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1 1 auto;width:0px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">浮生半梦</a></div><div style="color:rgb(138, 154, 169);font-size:12.996px;margin-left:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px;"/></div><div style="margin-top:6.6px;font-size:12.996px;line-height:21.996px;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:rgb(80, 80, 80);">gcd timer不是用runloop创建的</div><div/><div style="display:flex;margin:1rem 0px;font-weight:400;"><span title="Thu Apr 26 2018 09:31:26 GMT+0800 (中国标准时间)" style="font-size:12.996px;color:rgb(138, 154, 169);cursor:default;">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='426'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-41ed8d9c='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='427'%3e%3cg data-v-41ed8d9c='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-41ed8d9c='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-41ed8d9c='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div><div style="margin:1rem 0px;padding:0px 0px 0px 1rem;background-color:rgb(250, 251, 252);border-radius:3px;"><div><div style="position:relative;padding:1rem 0px 0px;"><div style="display:flex;align-items:start;"><div style="display:flex;width:100%;"><div style="height:33px;display:inline-block;"><a href="https://juejin.im/user/5a5415456fb9a01c9950a9f5" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;margin-right:12px;padding-bottom:12px;font-size:12.996px;color:rgb(23, 24, 26);width:100%;border-bottom:1px solid rgb(241, 241, 241);"><div style="display:flex;"><div style="display:inline-block;"><a href="https://juejin.im/user/5a5415456fb9a01c9950a9f5" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;margin-right:4px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">Sum123重名了</a></div><div style="color:rgb(138, 154, 169);font-size:13px;font-weight:400;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:162px;"/></div><div style="display:inline-block;margin-top:6px;"><span> 回复 </span><div style="display:inline-block;"><a href="https://juejin.im/user/581079a1570c3500680578fb" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(64, 101, 153);font-size:12.996px;font-weight:400;">浮生半梦</a></div><span>: </span><span style="white-space:pre-wrap;color:rgb(80, 80, 80);line-height:21.996px;">是的</span></div><div/><div style="display:flex;margin-top:7px;font-size:13px;color:rgb(138, 147, 160);"><span title="Thu Apr 26 2018 12:18:03 GMT+0800 (中国标准时间)">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;font-size:12.996px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='428'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='429'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div></div></div></div></div></div><div><div style="position:relative;padding:1rem 0px 0px;"><div style="display:flex;align-items:start;"><div style="display:flex;width:100%;"><div style="height:33px;display:inline-block;"><a href="https://juejin.im/user/5a546bfaf265da3e347b1f62" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;width:32px;height:32px;border-radius:50%;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></a></div><div style="margin-left:9.996px;margin-right:12px;padding-bottom:12px;font-size:12.996px;color:rgb(23, 24, 26);width:100%;"><div style="display:flex;"><div style="display:inline-block;"><a href="https://juejin.im/user/5a546bfaf265da3e347b1f62" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;margin-right:4px;color:rgb(51, 51, 51);font-size:12.996px;font-weight:400;">Balaeniceps_rex<a href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);margin-left:3.96px;vertical-align:middle;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/lv-2.f597b88.png" height="14" width="23"/></a></a></div><div style="color:rgb(138, 154, 169);font-size:13px;font-weight:400;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:162px;">iOS developer</div></div><div style="display:inline-block;margin-top:6px;"><span> 回复 </span><div style="display:inline-block;"><a href="https://juejin.im/user/581079a1570c3500680578fb" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(64, 101, 153);font-size:12.996px;font-weight:400;">浮生半梦</a></div><span>: </span><span style="white-space:pre-wrap;color:rgb(80, 80, 80);line-height:21.996px;">是的，是系统底层的select函数返回的机器时间</span></div><div/><div style="display:flex;margin-top:7px;font-size:13px;color:rgb(138, 147, 160);"><span title="Fri Apr 27 2018 11:58:05 GMT+0800 (中国标准时间)">1年前</span><div style="flex:0 0 auto;display:flex;justify-content:space-between;margin-left:auto;min-width:105.6px;font-size:12.996px;color:rgb(138, 147, 160);user-select:none;"><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon like-icon js-evernote-checked' data-evernote-id='430'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/></div><div style="display:flex;align-items:center;margin-left:6px;cursor:pointer;"><img style="overflow:hidden;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-68244ce4='' aria-hidden='true' width='16' height='16' viewBox='0 0 20 20' class='icon comment-icon js-evernote-checked' data-evernote-id='431'%3e%3cg data-v-68244ce4='' fill='none' fill-rule='evenodd'%3e%3cpath data-v-68244ce4='' d='M0 0h20v20H0z'%3e%3c/path%3e %3cpath data-v-68244ce4='' stroke='%238A93A0' stroke-linejoin='round' d='M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="margin-left:6px;">回复</span></div></div></div></div></div></div></div></div></div></div></div></div></div><div style="display:block;padding:1.1rem 0px;font-size:12.996px;text-align:center;color:rgb(64, 101, 153);cursor:pointer;user-select:none;">查看更多 &gt;</div><span style="display:table;clear:both;"/></div><span style="display:table;clear:both;"/></div><div style="box-shadow:rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;position:relative;width:700px;max-width:100%;background-color:rgb(255, 255, 255);border-radius:2px;box-sizing:border-box;"><div style="padding:1.3rem 2rem;font-size:15px;font-weight:600;color:rgb(144, 144, 144);border-bottom:1px solid rgba(178, 186, 194, 0.15);">相关推荐</div><ul style="padding:0px;margin:0px;width:100%;background-color:rgb(255, 255, 255);"><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d900eb4e51d4578311aa260" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5a9a7c4ef265da239d48c115" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">知识小集</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">1天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d900eb4e51d4578311aa260" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">值得收藏的 5 个 iOS 库</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">46</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d900eb4e51d4578311aa260#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">4</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div><div style="position:relative;background-position:50% center;background-size:cover;background-repeat:no-repeat;flex:0 0 auto;width:60px;height:60px;margin-left:24px;background-color:rgb(255, 255, 255);border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d8b0b6951882502c5533e9b" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5c3f3c415188252b7d0ea40c" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">Cooci</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">4天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/Xcode" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">Xcode</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d8b0b6951882502c5533e9b" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">Xcode 11 初体验</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">72</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d8b0b6951882502c5533e9b#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">33</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div><div style="position:relative;background-position:50% center;background-size:cover;background-repeat:no-repeat;flex:0 0 auto;width:60px;height:60px;margin-left:24px;background-color:rgb(255, 255, 255);border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d8af88ef265da5b6e0a23ac" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5d8af836518825093a357646" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">_森宇_</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">5天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d8af88ef265da5b6e0a23ac" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">iOS 13 适配要点总结</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">76</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d8af88ef265da5b6e0a23ac#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">17</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d8792846fb9a06aec267aea" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5a9a7c4ef265da239d48c115" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">知识小集</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">7天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d8792846fb9a06aec267aea" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">Xcode 11 的那些新东西</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">50</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d8792846fb9a06aec267aea#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div><div style="position:relative;background-position:50% center;background-size:cover;background-repeat:no-repeat;flex:0 0 auto;width:60px;height:60px;margin-left:24px;background-color:rgb(255, 255, 255);border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d842dff6fb9a06b2767058e" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(255, 119, 0);">荐<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5a9a7c4ef265da239d48c115" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">知识小集</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">10天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d842dff6fb9a06b2767058e" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">iOS 13 正式发布，来看看有哪些 API 变动</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">68</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d842dff6fb9a06b2767058e#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">7</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d8da122f265da5b5a7209fa" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/582eac4a0ce463006cf2027f" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">by在水一方</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">3天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d8da122f265da5b5a7209fa" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">iOS 端 h5 页面秒开优化实践</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">17</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d8da122f265da5b5a7209fa#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d8f704de51d4578157085b9" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/575ebdbd5bbb5000638173fb" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">CRPER</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">1天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/Xcode" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">Xcode</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d8f704de51d4578157085b9" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">XCode升级到版本11终端出现的魔性问题修正</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d8f704de51d4578157085b9#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div><div style="position:relative;background-position:50% center;background-size:cover;background-repeat:no-repeat;flex:0 0 auto;width:60px;height:60px;margin-left:24px;background-color:rgb(255, 255, 255);border-radius:2px;background-image:none;"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;"/></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d8f1e60f265da5b6e0a2a29" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5d8c6c38f265da5b5f756518" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">GSC</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">1天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d8f1e60f265da5b6e0a2a29" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">iOS开发：集成的SDK不支持模拟器调试怎么办？</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">3</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d8f1e60f265da5b6e0a2a29#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">4</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d9065e8f265da5bb628d59b" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5cee80ff5188252fbc37fa37" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">宋卓</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">1天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d9065e8f265da5bb628d59b" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">编程范式 --- 函数式编程（Funtional Programming，简称FP）</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">1</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d9065e8f265da5bb628d59b#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">1</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div></div></a></div></div></li><li style="list-style:none;border-bottom:1px solid rgba(178, 186, 194, 0.15);"><div><div><a href="https://juejin.im/post/5d889661e51d453b1e478b94" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;"><div style="display:flex;align-items:center;padding:1.5rem 2rem;"><div style="flex:1 1 auto;display:flex;flex-direction:column;justify-content:center;min-width:0px;"><div style="font-size:12px;color:rgb(178, 186, 194);"><ul style="padding:0px;margin:0px;display:flex;align-items:baseline;white-space:nowrap;"><li style="list-style:none;font-weight:500;color:rgb(183, 30, 215);">专栏<span style="list-style:none;font-weight:500;color:rgb(178, 186, 194);margin:0px 0.4em;">·</span></li><li style="list-style:none;display:flex;align-items:baseline;"><div style="display:inline;"><a href="https://juejin.im/user/5b542b76e51d4533d2042b62" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">QiShare</a></div><span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;">6天前<span style="list-style:none;margin:0px 0.4em;color:rgb(178, 186, 194);">·</span></li><li style="list-style:none;min-width:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/tag/iOS" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;">iOS</a></li></ul></div><div style="margin:0.5rem 0px 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"><a href="https://juejin.im/post/5d889661e51d453b1e478b94" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;font-size:16.8px;font-weight:600;line-height:1.2;color:rgb(46, 49, 53);">iOS13 DarkMode适配（一）</a></div><div><ul style="padding:0px;margin:0px;display:inline-flex;white-space:nowrap;"><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);padding:0px;"><a style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">25</span></a></li><li style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;padding:0px;"><a href="https://juejin.im/post/5d889661e51d453b1e478b94#comment" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:flex;align-items:center;padding:0px 0.8rem;height:100%;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.4d5744f.png" height="20" width="20"/><span style="color:rgb(178, 186, 194);margin-left:0.2em;font-weight:700;">16</span></a></li><li title="分享" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:9.6px;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/share.1d55e69.png" height="20" width="20"/></li><li title="收藏" style="list-style:none;display:flex;align-items:center;justify-content:center;position:relative;padding:0px 0.8rem;height:24px;font-size:12.996px;line-height:1;white-space:nowrap;color:rgb(178, 186, 194);border-radius:1px;border:1px solid rgb(237, 238, 239);margin-left:-1px;z-index:1;visibility:hidden;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/collect.02e2979.png" height="16" width="16"/></li></ul></div></div></div></a></div></div></li><li style="list-style:none;"/></ul><span style="display:table;clear:both;"/></div><div style="position:absolute;top:0px;right:0px;width:240px;"><div style="box-shadow:rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;position:relative;margin-bottom:18px;border-radius:2px;background-color:rgb(255, 255, 255);"><div style="padding:1rem 1.3rem;font-size:13.92px;color:rgb(51, 51, 51);border-bottom:1px solid rgba(150, 150, 150, 0.1);">关于作者</div><div><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:flex;align-items:center;padding:15.6px;"><div style="display:inline-block;background-position:50% center;background-size:cover;background-repeat:no-repeat;background-color:rgb(238, 238, 238);position:relative;flex:0 0 auto;margin-right:12px;width:50px;height:50px;border-radius:50%;background-image:url(https://user-gold-cdn.xitu.io/2017/12/12/1604a60a9cdbdae2?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1);"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;opacity:0;pointer-events:none;"/></div><div style="flex:1 1 auto;min-width:0px;"><a href="https://juejin.im/user/5795c0a48ac247005f2fb14a" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:pre-wrap;color:rgb(0, 0, 0);font-size:15.996px;font-weight:600;">xx_cc<a href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);margin-left:3.96px;vertical-align:middle;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/lv-3.e108c68.png" height="14" width="23"/></a></a><div title="iOS 开发 @ 无" style="margin-top:9.6px;font-size:15px;color:rgb(114, 119, 123);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">iOS 开发 @ 无</div></div></a><div style="display:flex;align-items:center;margin-bottom:9.6px;padding:0px 1.3rem;"><img style="overflow:hidden;margin-right:12px;" src="data:image/svg+xml,%3csvg data-v-30a785ce='' data-v-2fc3966d='' xmlns='http://www.w3.org/2000/svg' width='25' height='26' viewBox='0 0 25 26' class='zan js-evernote-checked' data-evernote-id='432'%3e%3cg data-v-30a785ce='' data-v-2fc3966d='' fill='none' fill-rule='evenodd' transform='translate(0 .57)'%3e%3cellipse data-v-30a785ce='' data-v-2fc3966d='' cx='12.5' cy='12.57' fill='%23E1EFFF' rx='12.5' ry='12.57'%3e%3c/ellipse%3e %3cpath data-v-30a785ce='' data-v-2fc3966d='' fill='%237BB9FF' d='M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="font-size:15px;color:rgb(0, 0, 0);">获得点赞<span style="margin:0px 0.3em;font-weight:500;">2,196</span></span></div><div style="display:flex;align-items:center;padding:0px 1.3rem;margin-bottom:15.6px;"><img style="overflow:hidden;flex:0 0 auto;margin-right:12px;" src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' data-v-30a785ce='' data-v-2fc3966d='' width='25' height='25' viewBox='0 0 25 25' class='icon stat-view-icon js-evernote-checked' data-evernote-id='433'%3e%3cg data-v-30a785ce='' data-v-2fc3966d='' fill='none' fill-rule='evenodd'%3e%3ccircle data-v-30a785ce='' data-v-2fc3966d='' cx='12.5' cy='12.5' r='12.5' fill='%23E1EFFF'%3e%3c/circle%3e %3cpath data-v-30a785ce='' data-v-2fc3966d='' fill='%237BB9FF' d='M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e"/> <span style="font-size:15px;color:rgb(0, 0, 0);">文章被阅读<span style="margin:0px 0.3em;font-weight:500;">66,500</span></span></div></div><span style="display:table;clear:both;"/></div><div style="background-color:rgb(255, 255, 255);border-radius:2px;margin-bottom:18px;overflow:hidden;"><div style="height:45px;display:flex;align-items:center;justify-content:space-between;padding-left:15px;padding-right:15px;border-bottom:1px solid rgb(246, 246, 246);"><div style="line-height:45px;padding-right:5px;font-size:14px;flex-grow:1;">掘金小册</div><div style="height:12px;font-size:12px;color:rgb(125, 125, 125);display:flex;align-items:center;justify-content:space-between;"><div style="cursor:pointer;line-height:1;width:5px;padding:0px 6px;"><span style="cursor:pointer;line-height:1;display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;text-rendering:auto;-webkit-font-smoothing:antialiased;"></span></div><div style="cursor:pointer;line-height:1;width:5px;padding:0px 6px;"><span style="cursor:pointer;line-height:1;display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;text-rendering:auto;-webkit-font-smoothing:antialiased;"></span></div></div></div><div style="position:relative;height:185px;overflow:hidden;"><div style="position:absolute;"><a href="https://juejin.im/book/5cc98974f265da03a54c2b37" style="background-color:transparent;margin:initial;text-decoration:none;color:rgb(144, 144, 144);padding:10px 15px;display:flex;justify-content:center;cursor:pointer;"><div style="width:52px;height:72px;flex-shrink:0;"><div style="position:relative;background-position:50% center;background-size:cover;background-repeat:no-repeat;height:100%;width:100%;background-image:url(https://user-gold-cdn.xitu.io/2019/9/25/16d67c7db5fc6421?imageView2/1/w/104/h/144/q/95/format/webp/interlace/1);"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;opacity:0;pointer-events:none;"/></div></div><div style="flex-grow:1;margin-left:10px;"><div style="color:rgb(0, 0, 0);font-size:14px;line-height:1.3;font-weight:500;">MySQL是怎样使用的：从零蛋开始学习MySQL</div><div style="display:inline-flex;margin-top:6px;"><div style="margin-right:6px;color:rgb(252, 69, 68);">新人价 ￥9.95</div><div style="color:rgb(135, 140, 144);text-decoration:line-through;">￥19.9</div></div></div></a><a href="https://juejin.im/book/5a36661851882538e2259c0f" style="background-color:transparent;margin:initial;text-decoration:none;color:rgb(144, 144, 144);padding:10px 15px;display:flex;justify-content:center;cursor:pointer;"><div style="width:52px;height:72px;flex-shrink:0;"><div style="position:relative;background-position:50% center;background-size:cover;background-repeat:no-repeat;height:100%;width:100%;background-image:url(https://user-gold-cdn.xitu.io/2018/1/16/160fdc404b36a1a0?imageView2/1/w/104/h/144/q/95/format/webp/interlace/1);"><span style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:inherit;border-radius:inherit;transition:opacity 0.2s ease 0s;opacity:0;pointer-events:none;"/></div></div><div style="flex-grow:1;margin-left:10px;"><div style="color:rgb(0, 0, 0);font-size:14px;line-height:1.3;font-weight:500;">剖析 Vue.js 内部运行机制</div><div style="display:inline-flex;margin-top:6px;"><div style="margin-right:6px;color:rgb(252, 69, 68);">新人价 ￥4.95</div><div style="color:rgb(135, 140, 144);text-decoration:line-through;">￥9.9</div></div></div></a></div></div><div><div style="padding-left:15px;padding-right:15px;height:20px;margin-top:5px;"><span style="float:left;display:block;margin-right:5px;color:rgb(135, 140, 144);">新人专享好礼</span><span style="display:block;height:0px;border-bottom:1px solid rgb(245, 245, 245);padding-top:8px;overflow:hidden;"/></div><div style="display:flex;padding:15px 15px 20px;cursor:pointer;"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/45.b99ea03.png" height="54" width="54"/><div style="margin-left:12px;"><div style="font-size:14px;font-weight:700;margin-bottom:8px;">送你<span style="color:rgb(252, 69, 68);margin-left:5px;margin-right:5px;">45元</span>买小册</div><div><div style="width:60px;height:20px;color:rgb(0, 127, 255);line-height:20px;border-radius:2px;font-size:12px;text-align:center;border:1px solid rgb(0, 127, 255);">立即领取</div></div></div></div></div></div><div style="box-shadow:rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;position:relative;margin-bottom:18px;border-radius:2px;background-color:rgb(255, 255, 255);"><div style="padding:1rem 1.3rem;font-size:13.92px;color:rgb(51, 51, 51);border-bottom:1px solid rgba(150, 150, 150, 0.1);">相关文章</div><div><div><a href="https://juejin.im/post/5add46606fb9a07abf721d1d" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:block;padding:0.8rem 1.3rem;"><div style="font-size:13.92px;color:rgb(51, 51, 51);">iOS底层原理总结 - RunLoop</div><div style="margin-top:4.8px;"><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">241</span></div><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.a7c8341.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">31</span></div></div></a><a href="https://juejin.im/post/5ac81c75518825556534c0af" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:block;padding:0.8rem 1.3rem;"><div style="font-size:13.92px;color:rgb(51, 51, 51);">iOS底层原理总结 - 探寻OC对象的本质</div><div style="margin-top:4.8px;"><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">176</span></div><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.a7c8341.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">32</span></div></div></a><a href="https://juejin.im/post/5aef0a3b518825670f7bc0f3" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:block;padding:0.8rem 1.3rem;"><div style="font-size:13.92px;color:rgb(51, 51, 51);">iOS底层原理总结 - Category的本质</div><div style="margin-top:4.8px;"><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">205</span></div><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.a7c8341.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">6</span></div></div></a><a href="https://juejin.im/post/5ad210636fb9a028da7cf90c" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:block;padding:0.8rem 1.3rem;"><div style="font-size:13.92px;color:rgb(51, 51, 51);">iOS底层原理总结 - 探寻Class的本质</div><div style="margin-top:4.8px;"><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">137</span></div><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.a7c8341.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">14</span></div></div></a><a href="https://juejin.im/post/5adab70cf265da0b736d37a8" target="_blank" rel="" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:rgb(144, 144, 144);display:block;padding:0.8rem 1.3rem;"><div style="font-size:13.92px;color:rgb(51, 51, 51);">iOS底层原理总结 - 探寻KVO本质</div><div style="margin-top:4.8px;"><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/zan.e9d7698.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">101</span></div><div style="display:inline-block;margin-right:18px;font-size:13.2px;color:rgb(194, 194, 194);"><img src="10.%20%20iOS%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93%20-%20RunLoop%20-%20%E6%8E%98%E9%87%91.resources/comment.a7c8341.png" height="16" width="16"/><span style="color:rgb(178, 186, 194);margin-left:4.8px;">14</span></div></div></a></div></div><span style="display:table;clear:both;"/></div><div><div style="position:relative;margin-bottom:18px;border-radius:2px;"><div style="display:block;"><div style="font-size:14.004px;color:rgb(0, 0, 0);">目录</div><div style="position:relative;margin:6px 0px;overflow:hidden;"><ul style="padding:0px;margin:0px;position:relative;margin-top:0px;"><span style="position:absolute;top:0px;left:7px;bottom:0px;width:2px;background-color:rgb(235, 237, 239);opacity:0.5;"/><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-0" title="面试题" style="text-decoration:none;cursor:pointer;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;background-color:rgb(235, 237, 239);color:rgb(0, 127, 255);margin-top:0px;"><span style="cursor:pointer;color:rgb(0, 127, 255);white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>面试题</a></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-1" title="一. RunLoop简介" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>一. RunLoop简介</a></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-2" title="二. RunLoop基本作用：" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>二. RunLoop基本作用：</a></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-3" title="三. RunLoop在哪里开启" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>三. RunLoop在哪里开启</a></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-4" title="四. RunLoop对象" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>四. RunLoop对象</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-5" title="如何获得RunLoop对象" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>如何获得RunLoop对象</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-6" title="五. RunLoop和线程间的关系" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>五. RunLoop和线程间的关系</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-7" title="通过源码查看上述对应" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>通过源码查看上述对应</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-8" title="六. RunLoop结构体" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>六. RunLoop结构体</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-9" title="Source1/Source0/Timers/Observer分别代表什么" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>Source1/Source0/Timers/Observer分别代表什么</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-10" title="七. 详解RunLoop相关类及作用" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>七. 详解RunLoop相关类及作用</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-11" title="1. CFRunLoopModeRef" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>1. CFRunLoopModeRef</a></li><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-12" title="系统默认注册的5个Mode:" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>系统默认注册的5个Mode:</a></li><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-13" title="Mode间的切换" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>Mode间的切换</a></li><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-14" title="2. CFRunLoopSourceRef事件源（输入源）" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>2. CFRunLoopSourceRef事件源（输入源）</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-15" title="Source分为两种" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:51px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:39px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>Source分为两种</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-16" title="3. CFRunLoopObserverRef" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>3. CFRunLoopObserverRef</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-17" title="八. RunLoop处理逻辑" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>八. RunLoop处理逻辑</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-18" title="源码解析" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>源码解析</a></li><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-19" title="RunLoop处理逻辑流程图" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>RunLoop处理逻辑流程图</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-20" title="九. RunLoop退出" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>九. RunLoop退出</a></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-21" title="十. RunLoop应用" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>十. RunLoop应用</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-22" title="1. 常驻线程" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>1. 常驻线程</a></li><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-23" title="2. 自动释放池" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>2. 自动释放池</a></li></ul></li><li style="margin:0px;padding:0px;font-size:14.004px;line-height:1.3;list-style:none;font-weight:600;color:rgb(0, 0, 0);"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-24" title="最后检验一下自己" style="background-color:transparent;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:6px 0px;padding:4px 0px 4px 21px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:5px;margin-top:-3px;width:6px;height:6px;background-color:currentcolor;border-radius:50%;"/>最后检验一下自己</a><ul style="padding:0px;margin:0px;"><li style="margin:0px;padding:0px;font-size:14.004px;font-weight:400;line-height:1.3;color:rgb(51, 51, 51);list-style:none;"><a href="https://juejin.im/post/5add46606fb9a07abf721d1d#heading-25" title="文献资料" style="background-color:transparent;margin:initial;text-decoration:none;cursor:pointer;color:inherit;display:block;position:relative;padding:4px 0px 4px 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:36px;"><span style="cursor:pointer;color:inherit;white-space:nowrap;position:absolute;top:50%;left:24px;margin-top:-2px;width:4px;height:4px;background-color:currentcolor;border-radius:50%;"/>文献资料</a></li></ul></li></ul></div></div><span style="display:table;clear:both;"/></div></div></div><div/></div><span style="display:table;clear:both;"/></span></div></div>
      
      
      
    <div><div/></div></div></div></div>
</div>
</body></html>